:: Widgets Text [widget]

<<widget "setLocalPronouns">>
	<<run App.Utils.setLocalPronouns($args[0], $args[1])>>
<</widget>>

<<widget "capitalise">><<silently>>
	<<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>>_text_output<</widget>>

<<widget "catcall">>

"<<print either("Hey beautiful.",
"Hey gorgeous.",
"Looking good.",
"Looking fine.",
"You look sumptuous, <<girl>>.",
"You look ravishing, <<girl>>.",
"You look stunning, <<girl>>.",
"You look superb, <<girl>>.",
"Hey <<girl>>, want some of this?",
"Nice butt.",
"I'd love a taste of you.")>>"

<</widget>>

<<widget "lewdcatcall">>

"<<print either("Looks like someone wants to be raped.",
"What a slut!",
"What a whore!",
"Why would you dress like that?",
"That's one way to get attention.",
"You can't complain if someone hurts you while walking around like that.",
"L-lewd!")>>"

<</widget>>

<<widget "schoolcatcall">>

"<<print either("Hey sexy.",
"Hey <<girl>>.",
"Looking good.",
"Looking fine.",
"You look cute, <<girl>>.",
"You look ravishing, <<girl>>.",
"You look stunning, <<girl>>.",
"You look superb, <<girl>>.",
"Hey <<girl>>, want some of this?",
"Nice butt.",
"You look tasty.")>>"

<</widget>>

<<widget "anticatcall">>

"<<print either("Do you talk to your family that way?",
"What is your problem?",
"Is that the best you can do?",
"At least one of us looks good.",
"Leave me alone you creep.",
"Idiot. Never speak to me like that again.",
"Go away.",
"Has that line ever worked for you?",
"You're pitiful.")>>"

<</widget>>

<<widget "haircolourtext">>

<<set _colour to $haircolour>>
<<if $args[0]>>
	<<set _colour to $args[0]>>
<</if>>
<<if _colour in setup.colours.hair_map>>
	<<print setup.colours.hair_map[_colour].name>>
<<else>>
	_colour
<</if>>

<</widget>>

<<widget "charles">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m" ? "Charles" : "Charlene")>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcexposetext">><<silently>>
<<person>><<set _person to _text_output>>
<<his>><<set _his to _text_output>>
<<if $pronoun is "m">>
<<set _text_output to "The " + _person + " unzips " + _his + " fly, ">>
<<else>>
<<set _text_output to "The " + _person + " lifts up " + _his + " skirt, ">>
<</if>>
<<if $NPCList[0].penis isnot "none">>
<<set _text_output to _text_output + "revealing " + _his + " erect penis.">>
<<else>>
<<set _text_output to _text_output + "revealing " + _his + " moist pussy.">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bodyparts">><<print either("hands", "feet", "thighs", "legs", "tummy", "cheek", "bottom", "chest", "face", "arms", "shoulder", "back")>><</widget>>

<<widget "lowerbodyparts">><<print either("hands", "feet", "thighs", "bottom")>><</widget>>

<<widget "word">><<silently>>
	<<set _text_output to "">>
	<<if $args[0] and $worn[$args[0]].word isnot "n">>
		<<set _text_output to $worn[$args[0]].word>>
	<</if>>
<</silently>>_text_output <</widget>>

<<widget "overupperword">><<word "over_upper">><</widget>>
<<widget "overlowerword">><<word "over_lower">><</widget>>
<<widget "upperword">>
<<if $worn.upper.name is "oversized sweater">>
	<<set _text_output to "an">>
	<<print _text_output>>
<<else>>
	<<word "upper">>
<</if>>
<</widget>>
<<widget "lowerword">><<word "lower">><</widget>>
<<widget "underupperword">><<word "under_upper">><</widget>>
<<widget "underlowerword">><<word "under_lower">><</widget>>
<<widget "genitalsword">><<word "genitals">><</widget>>

<<widget "plural">><<silently>>
	<<if $worn[$args[0]].plural is 1>>
		<<set _text_output to "are">>
	<<else>>
		<<set _text_output to "is">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperplural">><<plural "over_upper">><</widget>>
<<widget "overlowerplural">><<plural "over_lower">><</widget>>
<<widget "upperplural">><<plural "upper">><</widget>>
<<widget "lowerplural">><<plural "lower">><</widget>>
<<widget "underupperplural">><<plural "under_upper">><</widget>>
<<widget "underlowerplural">><<plural "under_lower">><</widget>>
<<widget "genitalsplural">><<plural "genitals">><</widget>>

<<widget "itis">><<silently>>
	<<if $worn[$args[0]].plural is 1>>
		<<set _text_output to "they are">>
	<<else>>
		<<set _text_output to "it is">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperitis">><<itis "over_upper">><</widget>>
<<widget "overloweritis">><<itis "over_lower">><</widget>>
<<widget "upperitis">><<itis "upper">><</widget>>
<<widget "loweritis">><<itis "lower">><</widget>>
<<widget "underupperitis">><<itis "under_upper">><</widget>>
<<widget "underloweritis">><<itis "under_lower">><</widget>>

<<widget "it">><<silently>>
	<<if $worn[$args[0]].plural is 1>>
		<<set _text_output to "them">>
	<<else>>
		<<set _text_output to "it">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperit">><<it "over_upper">><</widget>>
<<widget "overlowerit">><<it "over_lower">><</widget>>
<<widget "upperit">><<it "upper">><</widget>>
<<widget "lowerit">><<it "lower">><</widget>>
<<widget "underupperit">><<it "under_upper">><</widget>>
<<widget "underlowerit">><<it "under_lower">><</widget>>
<<widget "feetit">><<it "feet">><</widget>>
<<widget "legsit">><<it "legs">><</widget>>
<<widget "handsit">><<it "hands">><</widget>>

<<widget "has">><<silently>>
	<<if $worn[$args[0]].plural is 1>>
		<<set _text_output to "have">>
	<<else>>
		<<set _text_output to "has">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperhas">><<has "over_upper">><</widget>>
<<widget "overlowerhas">><<has "over_lower">><</widget>>
<<widget "upperhas">><<has "upper">><</widget>>
<<widget "lowerhas">><<has "lower">><</widget>>
<<widget "underupperhas">><<has "under_upper">><</widget>>
<<widget "underlowerhas">><<has "under_lower">><</widget>>

<<widget "that">><<silently>>
	<<if $worn[$args[0]].plural is 1>>
		<<set _text_output to "those">>
	<<else>>
		<<set _text_output to "that">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperthat">><<that "over_upper">><</widget>>
<<widget "overlowerthat">><<that "over_lower">><</widget>>
<<widget "upperthat">><<that "upper">><</widget>>
<<widget "lowerthat">><<that "lower">><</widget>>
<<widget "underupperthat">><<that "under_upper">><</widget>>
<<widget "underlowerthat">><<that "under_lower">><</widget>>
<<widget "genitalsthat">><<that "genitals">><</widget>>
<<widget "feetthat">><<that "feet">><</widget>>
<<widget "legsthat">><<that "legs">><</widget>>
<<widget "handsthat">><<that "hands">><</widget>>

<<widget "generatePronouns">>
<<if $args[0]>>
	<<set $args[0].pronouns to {}>>
	<<switch $args[0].pronoun>>
	<<case "m">>
		<<set $args[0].pronouns.he = "he">>
		<<set $args[0].pronouns.his = "his">>
		<<set $args[0].pronouns.hers = "his">>
		<<set $args[0].pronouns.him = "him">>
		<<set $args[0].pronouns.himself = "himself">>
		<<set $args[0].pronouns.man = "man">>
		<<set $args[0].pronouns.boy = "boy">>
		<<set $args[0].pronouns.men = "men">>
	<<case "f">>
		<<set $args[0].pronouns.he = "she">>
		<<set $args[0].pronouns.his = "her">>
		<<set $args[0].pronouns.hers = "hers">>
		<<set $args[0].pronouns.him = "her">>
		<<set $args[0].pronouns.himself = "herself">>
		<<set $args[0].pronouns.man = "woman">>
		<<set $args[0].pronouns.boy = "girl">>
		<<set $args[0].pronouns.men = "women">>
	<<case "i">>
		<<set $args[0].pronouns.he = "it">>
		<<set $args[0].pronouns.his = "its">>
		<<set $args[0].pronouns.hers = "its">>
		<<set $args[0].pronouns.him = "it">>
		<<set $args[0].pronouns.himself = "itself">>
		<<set $args[0].pronouns.man = "man">>
		<<set $args[0].pronouns.boy = "kid">>
		<<set $args[0].pronouns.men = "men">>
	<<case "n">>
		<<set $args[0].pronouns.he = "one">>
		<<set $args[0].pronouns.his = "the">>
		<<set $args[0].pronouns.hers = "they">>
		<<set $args[0].pronouns.his = "them">>
		<<set $args[0].pronouns.himself = "themselves">>
		<<set $args[0].pronouns.man = "man">>
		<<set $args[0].pronouns.boy = "k">>
		<<set $args[0].pronouns.men = "men">>
	<<case "t">>
		<<set $args[0].pronouns.he = "they">>
		<<set $args[0].pronouns.his = "their">>
		<<set $args[0].pronouns.hers = "they">>
		<<set $args[0].pronouns.him = "them">>
		<<set $args[0].pronouns.himself = "themselves">>
		<<set $args[0].pronouns.man = "man">>
		<<set $args[0].pronouns.boy = "kid">>
		<<set $args[0].pronouns.men = "men">>
	<</switch>>
<</if>>
<</widget>>

<<widget "updatePronouns">>
<<for _i to 0; _i lt $NPCNameList.length; _i++>>
	<<generatePronouns $NPCName[_i]>>
<</for>>
<</widget>>

<<widget "clearPronouns">>
<<if $args[0]>>
	<<set $args[0].pronouns.he = 0>>
	<<set $args[0].pronouns.his = 0>>
	<<set $args[0].pronouns.hers = 0>>
	<<set $args[0].pronouns.him = 0>>
	<<set $args[0].pronouns.himself = 0>>
	<<set $args[0].pronouns.man = 0>>
	<<set $args[0].pronouns.boy = 0>>
	<<set $args[0].pronouns.men = 0>>
<</if>>
<</widget>>

<<widget "a">><<silently>>
<<if $enemyno gte 2 and $enemytype is "man">>
<<set _text_output to "a">>
<<else>>
<<his>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "theowner">><<silently>>
<<if $enemyno gte 2 and $enemytype is "man">>
	<<set _text_output to "the owner">>
<<else>>
	<<he>>
<</if>>
<</silently>>_text_output<</widget>>


<<widget "someones">><<silently>>
/* Take target into consideration. Pre-set _target and use it instead.
	<<if _target isnot undefined>>
		<<hisselect _target>>
	<<else>>
		<<his>>
	<</if>>
 */
<<if $enemyno gte 2 and $enemytype is "man">>
	<<set $rng to random(1, $enemyno)>>
	<<if $rng is 1>>
		<<his1>>
	<<elseif $rng is 2>>
		<<his2>>
	<<elseif $rng is 3>>
		<<his3>>
	<<elseif $rng is 4>>
		<<his4>>
	<<elseif $rng is 5>>
		<<his5>>
	<<elseif $rng is 6>>
		<<his6>>
	<</if>>
<<else>>
	<<his>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "someone">><<silently>>
/* Same as above
	<<if _target isnot undefined>>
		<<personselect _target>>
	<<else>>
		<<him>>
	<</if>>
 */
<<if $enemyno gte 2 and $enemytype is "man">>
	<<set _text_output to "someone">>
<<else>>
	<<him>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "their">><<silently>>
<<if $enemyno gte 2 and $enemytype is "man">>
	<<set _text_output to "their">>
<<else>>
	<<his>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "ohe">><<silently>>
<<if $enemytype is "beast">>
	<<bhe>>
<<else>>
	<<he>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "he">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "he">>
<<elseif $pronoun is "f">>
	<<set _text_output to "she">>
<<elseif $pronoun is "i">>
	<<set _text_output to "it">>
<<elseif $pronoun is "n">>
	<<set _text_output to "one">>
<<elseif $pronoun is "t">>
	<<set _text_output to "they">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHe">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "He" : "She")>>
<<else>>
	<<set _text_output to "It">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhe">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "he" : "she")>>
<<else>>
	<<set _text_output to "it">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHis">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "His" : "Her")>>
<<else>>
	<<set _text_output to "Its">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhis">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "his" : "her")>>
<<else>>
	<<set _text_output to "its">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHim">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "Him" : "Her")>>
<<else>>
	<<set _text_output to "It">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhim">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "him" : "her")>>
<<else>>
	<<set _text_output to "it">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhimself">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<elseif $enemyno gte 0>>
	<<set _na to $enemyno-1>>
<<else>>
	<<set _na to 0>>
<</if>>
<<if $NPCList[_na].monster is "monster">>
	<<set _text_output to ($NPCList[_na].pronoun is "m" ? "himself" : "herself")>>
<<else>>
	<<set _text_output to "itself">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "bHimself">><<silently>>
<<if typeof $args[0] is "number">>
	<<bhimself $args[0]>>
<<else>>
	<<bhimself>>
<</if>>
<<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "hes">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "he's">>
<<elseif $pronoun is "f">>
	<<set _text_output to "she's">>
<<elseif $pronoun is "i">>
	<<set _text_output to "its">>
<<elseif $pronoun is "n">>
	<<set _text_output to "one is">>
<<elseif $pronoun is "t">>
	<<set _text_output to "they are">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "his">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "his">>
<<elseif $pronoun is "f">>
	<<set _text_output to "her">>
<<elseif $pronoun is "i">>
	<<set _text_output to "its">>
<<elseif $pronoun is "n">>
	<<set _text_output to "the">>
<<elseif $pronoun is "t">>
	<<set _text_output to "their">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "hers">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "his">>
<<elseif $pronoun is "f">>
	<<set _text_output to "hers">>
<<elseif $pronoun is "i">>
	<<set _text_output to "its">>
<<elseif $pronoun is "n">>
	<<set _text_output to "the">>
<<elseif $pronoun is "t">>
	<<set _text_output to "theirs">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "He">><<silently>>
<<if $args[0]>>
	<!-- Add the option to call for a named NPC's name -->
	<<if $NPCNameList.includes($args[0])>>
		<<set _args to $args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
		<<unset _args>>
	<<else>>
		<<if $enemytype is "man">>
			<<if $args[0] is 1>>
				<<person1>>
			<<elseif $args[0] is 2>>
				<<person2>>
			<<elseif $args[0] is 3>>
				<<person3>>
			<<elseif $args[0] is 4>>
				<<person4>>
			<<elseif $args[0] is 5>>
				<<person5>>
			<<elseif $args[0] is 6>>
				<<person6>>
			<</if>>
		<</if>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "He">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "She">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "It">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "One">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "They">>
	<</if>>
<<elseif $NPCList[0].intro is 1>>
	<<set $NPCList[0].intro to 0>>
	<<if $npcrow.includes(0)>>
		<<if $npc.includes("Black Wolf") or $npc.includes("Great Hawk")>>
			<<set _text_output to "The " + $npc[$npcrow.indexOf(0)]>>
		<<else>>
			<<set _text_output to $npc[$npcrow.indexOf(0)]>>
		<</if>>
	<<else>>
		<<if $enemytype is "beast">>
			<<beasttype>><<set _person to _text_output>><<set _text_output to "The " + _person>>
		<<else>>
			<<person1>><<person>><<set _person to _text_output>><<set _text_output to "The " + _person>>
		<</if>>
	<</if>>
<<elseif $NPCList[1].intro is 1>>
	<<set $NPCList[1].intro to 0>>
	<<if $npcrow.includes(1)>>
		<<set _text_output to $npc[$npcrow.indexOf(1)]>>
	<<else>>
		<<person2>><<person>><<set _person to _text_output>><<set _text_output to "The " + _person>>
	<</if>>
<<elseif $NPCList[2].intro is 1>>
	<<set $NPCList[2].intro to 0>>
	<<if $npcrow.includes(2)>>
		<<set _text_output to $npc[$npcrow.indexOf(2)]>>
	<<else>>
		<<person3>><<person>><<set _person to _text_output>><<set _text_output to "The " + _person>>
	<</if>>
<<elseif $NPCList[3].intro is 1>>
	<<set $NPCList[3].intro to 0>>
	<<if $npcrow.includes(3)>>
		<<set _text_output to $npc[$npcrow.indexOf(3)]>>
	<<else>>
		<<person4>><<person>><<set _person to _text_output>><<set _text_output to "The " + _person>>
	<</if>>
<<elseif $NPCList[4].intro is 1>>
	<<set $NPCList[4].intro to 0>>
	<<if $npcrow.includes(4)>>
		<<set _text_output to $npc[$npcrow.indexOf(4)]>>
	<<else>>
		<<person5>><<person>><<set _person to _text_output>><<set _text_output to "The " + _person>>
	<</if>>
<<elseif $NPCList[5].intro is 1>>
	<<set $NPCList[5].intro to 0>>
	<<if $npcrow.includes(5)>>
		<<set _text_output to $npc[$npcrow.indexOf(5)]>>
	<<else>>
		<<person6>><<person>><<set _person to _text_output>><<set _text_output to "The " + _person>>
	<</if>>
<<else>>
	<<if $pronoun is "m">>
		<<set _text_output to "He">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "She">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "It">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "One">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "They">>
	<</if>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "His">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "His">>
<<elseif $pronoun is "f">>
	<<set _text_output to "Her">>
<<elseif $pronoun is "i">>
	<<set _text_output to "Its">>
<<elseif $pronoun is "n">>
	<<set _text_output to "The">>
<<elseif $pronoun is "t">>
	<<set _text_output to "Their">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "Hers">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "His">>
<<elseif $pronoun is "f">>
	<<set _text_output to "Hers">>
<<elseif $pronoun is "i">>
	<<set _text_output to "Its">>
<<elseif $pronoun is "n">>
	<<set _text_output to "The">>
<<elseif $pronoun is "t">>
	<<set _text_output to "Theirs">><</if>>
<</silently>>_text_output<</widget>>

<<widget "Hes">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "He's">>
<<elseif $pronoun is "f">>
	<<set _text_output to "She's">>
<<elseif $pronoun is "i">>
	<<set _text_output to "It's">>
<<elseif $pronoun is "n">>
	<<set _text_output to "One is">>
<<elseif $pronoun is "t">>
	<<set _text_output to "They are">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "him">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "him">>
<<elseif $pronoun is "f">>
	<<set _text_output to "her">>
<<elseif $pronoun is "i">>
	<<set _text_output to "it">>
<<elseif $pronoun is "n">>
	<<set _text_output to "them">>
<<elseif $pronoun is "t">>
	<<set _text_output to "them">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "Him">><<silently>>
<<him>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "hisselect">>
<!-- Note calls range from 0-5 corresponding to NPCs 1-6. This was done to simplify FOR loops -->
<<set _n to $args[0]>>
<<if $enemytype is "man" and $enemyno gte 2>>
	<<personselect _n>>
	<!-- NPC's name will only appear if they are selected -->
	<<if $npcrow.includes(_n)>>
		<<print $npc[$npcrow.indexOf(_n)]>>'s
	<<elseif $NPCList[_n].intro is 1>>
		<<set $NPCList[_n].intro to 0>>
		the <<persons>>
	<<else>>
		<<his>>
	<</if>>
<<elseif $enemytype is "beast">>
	<<bhis>>
<<else>>
	<<his>>
<</if>>
<</widget>>

<!-- Keeping his1-6 for legacy support as of v2.3 -->
<<widget "his1">>
<<person1>><<his>>
<</widget>>

<<widget "his2">>
<<person2>><<his>>
<</widget>>

<<widget "his3">>
<<person3>><<his>>
<</widget>>

<<widget "his4">>
<<person4>><<his>>
<</widget>>

<<widget "his5">>
<<person5>><<his>>
<</widget>>

<<widget "his6">>
<<person6>><<his>>
<</widget>>

<<widget "himself">><<silently>>
<!-- Add the option to call for named NPCs individually -->
<<if $args[0]>>
	<<set _args to $args[0]>>
	<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args)].pronoun>>
	<<unset _args>>
<</if>>
<<if $pronoun is "m">>
	<<set _text_output to "himself">>
<<elseif $pronoun is "i">>
	<<set _text_output to "itself">>
<<else>>
	<<set _text_output to "herself">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "people">><<silently>>
	<<if $malechance is 100>>
		<<set _text_output to "men">>
	<<elseif $malechance is 0>>
		<<set _text_output to "women">>
	<<else>>
		<<set _text_output to "men and women">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "peopley">><<silently>>
	<<if $malechance is 100>>
		<<set _text_output to "boys">>
	<<elseif $malechance is 0>>
		<<set _text_output to "girls">>
	<<else>>
		<<set _text_output to "boys and girls">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "persony">><<silently>>
	<<set $rng to random(1, 100)>>
	<<set _text_output to ($rng lte $malechance? "boy" : "girl")>>
<</silently>><<print _text_output>><</widget>>

<<widget "group">><<silently>>
<<if $enemyno gte 3>>
	<<for _g to 0; _g lt $NPCList.length; _g++>>
		<<if $NPCList[_g].pronoun is "m">>
			<<set $_group_man to true>>
		<<elseif $NPCList[_g].pronoun is "f">>
			<<set $_group_woman to true>>
		<</if>>
	<</for>>
	<<if $_group_man and $_group_woman>>
		<<set _text_output to ($NPCList[0].teen is 1? "girls and boys" : "men and women")>>
	<<elseif $_group_man and !$_group_woman>>
		<<set _text_output to ($NPCList[0].teen is 1? "boys" : "men")>>
	<<elseif !$_group_man and $_group_woman>>
		<<set _text_output to ($NPCList[0].teen is 1? "girls" : "women")>>
	<</if>>
<<elseif $enemyno is 2>>
	<<if $NPCList[0].pronoun isnot $NPCList[1].pronoun>>
		<<set _text_output to ($NPCList[0].teen is 1? "girl and boy" : "man and woman")>>
	<<elseif $NPCList[0].pronoun is "m">>
		<<set _text_output to ($NPCList[0].teen is 1? "boys" : "men")>>
	<<elseif $NPCList[0].pronoun is "f">>
		<<set _text_output to ($NPCList[0].teen is 1? "girls" : "women")>>
	<</if>>
<<else>>
	<<person>>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "gendercheck">>
	<<if !["m", "f"].contains($player.gender_appearance)>><<set _text_output to "<span class=\"red\">ERROR: Unexpected $$player.gender_appearance: [$player.gender_appearance]</span>">><</if>>
<</widget>>

<<widget "pshe">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "he" : "she")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pShe">><<silently>>
	<<pshe>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pshes">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "he's" : "she's")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pShes">><<silently>>
	<<pshes>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pher">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "his" : "her")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pHer">><<silently>>
	<<pher>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "phim">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "him" : "her")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pHim">><<silently>>
	<<phim>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pherself">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "himself" : "herself")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pHerself">><<silently>>
	<<pherself>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pgirl">><<silently>><<if $player.gender_appearance is "m">><<set _text_output to "boy">><<elseif $player.gender_appearance is "f">><<set _text_output to "girl">><</if>><</silently>>_text_output<</widget>>

<<widget "animals">>
<<print either("bees", "elephants", "bunnies", "octopi", "chimps", "squid", "molluscs", "monkeys", "wasps", "baboons", "wolves", "bears", "elk", "seals", "dolphins", "whales", "jellyfish", "cats", "lions", "tigers", "cheetahs", "wild dogs", "panthers", "moles", "badgers", "honey badgers", "ducks", "geese", "sparrows", "robins", "perch", "pike", "salmon", "sturgeon", "frogs", "newts", "crocodiles", "toads", "hawks", "eagles", "cuttlefish", "pythons", "anacondas", "adders", "cobras", "sturgeon", "trout", "salmon", "tuna", "deer", "robins")>>
<</widget>>

<<widget "garden">>
<<print either("prune flowers", "prune trees", "prune bushes", "water flowers", "remove weeds")>>
<</widget>>

<<widget "semen">>
<<silently>>
<<if $player.penisExist>>
	<<set _text_output to "semen">>
<<else>>
	<<set _text_output to "lewd fluid">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "breastsensitivity">><<silently>>
<<if $breastsensitivity > 5>>
	<<set _text_output2 to "sensitive ">>
<<elseif $breastsensitivity >= 3>>
	<<set _text_output2 to "tender ">>
<<elseif $breastsensitivity >= 1.5>>
	<<set _text_output2 to "receptive ">>
<<else>>
	<<set _text_output2 to "">>
<</if>>
<</silently>><<print _text_output2>><</widget>>

<<widget "nipple">><<breastsensitivity>><<print "nipple">><</widget>>

<<widget "nipples">><<nipple>>s<</widget>>

/* 
<<widget "breasts">><<silently>>
	<<if Number.isInteger($breastsize)>>
		<<if $breastsize lte 0>>
			<<set _text_output to "nipples">>
		<<else>>
			<<set _text_output to ["", "budding", "tiny", "small", "pert", "modest", "full", "large", "ample", "massive", "huge", "gigantic", "enormous"][$breastsize] + " breasts">>
		<</if>>
	<<else>>
		<<set _text_output to "ERROR - $$breastsize is not a number: $breastsize">>
	<</if>>
	<</silently>><<breastsensitivity>><<print _text_output>>
<</widget>> 
*/

<<widget "breasts">><<silently>>
	<<switch $breastsize>>
	<<case 0>>
		<<set _text_output to "nipples">>
	<<case 1>>
		<<set _text_output to "budding breasts">>
	<<case 2>>
		<<set _text_output to "tiny breasts">>
	<<case 3>>
		<<set _text_output to "small breasts">>
	<<case 4>>
		<<set _text_output to "pert breasts">>
	<<case 5>>
		<<set _text_output to "modest breasts">>
	<<case 6>>
		<<set _text_output to "full breasts">>
	<<case 7>>
		<<set _text_output to "large breasts">>
	<<case 8>>
		<<set _text_output to "ample breasts">>
	<<case 9>>
		<<set _text_output to "massive breasts">>
	<<case 10>>
		<<set _text_output to "huge breasts">>
	<<case 11>>
		<<set _text_output to "gigantic breasts">>
	<<case 12>>
		<<set _text_output to "enormous breasts">>
	<<default>>
		<<set _text_output to "breasts">>
	<</switch>>
<</silently>><<breastsensitivity>><<print _text_output>><</widget>>

<<widget "undertop">>
<<silently>>
<<if $worn.under_upper.name isnot "naked">>
	<<set _text_output to $worn.under_upper.name>>
<<else>>
	<<breasts>>
<</if>>
<</silently>>
<<print _text_output>>
<</widget>>

<<widget "underoutfit">>
<<silently>>
<<outfitChecks>>
<<if _underOutfit>>
	<<set _text_output to $worn.under_upper.name>>
<<elseif $worn.under_upper.name is "naked" and $worn.under_lower.name is "naked">>
	<<breasts>>
	<<set _text_output_temp to _text_output>>
	<<genitals>>
	<<set _text_output_temp2 to _text_output>>
	<<set _text_output to "_text_output_temp and _text_output_temp2">>
<<elseif $worn.under_lower.name is "naked">>
	<<genitals>>
	<<set _text_output_temp to _text_output>>
	<<set _text_output to "$worn.under_upper.name and _text_output_temp">>
<<elseif $worn.under_upper.name is "naked">>
	<<breasts>>
	<<set _text_output_temp to _text_output>>
	<<set _text_output to "_text_output_temp and $worn.under_lower.name">>
<<else>>
	<<set _text_output to "$worn.under_upper.name and $worn.under_lower.name">>
<</if>>
<</silently>>
<<print _text_output>>
<</widget>>

<<widget "bottom">><<silently>>
	<<set _text_output to ["slender", "slim", "modest", "cushioned", "soft", "round", "plump", "large", "huge"][Math.clamp(0, 8, $bottomsize)]>>
	<<set _text_output to _text_output += [" ass", " bum", " butt"].pluck()>>
<</silently>><<print _text_output>><</widget>>

<<widget "pussy">><<silently>>
<<if $devstate gte 1>>
	<<if $orgasmcount gte 23>>
		<<if $orgasmdown gte 1>>
		<<set _text_output to "tortured pussy">>
		<<else>>
		<<set _text_output to "spent pussy">>
		<</if>>
	<<elseif $orgasmcount gte 9>>
		<<if $orgasmdown gte 1>>
		<<set _text_output to "twitching pussy">>
		<<else>>
		<<set _text_output to "tired pussy">>
		<</if>>
	<<else>>
		<<if $orgasmdown gte 1>>
		<<set _text_output to "twitching pussy">>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
			<<set _text_output to "tingling pussy">>
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
			<<set _text_output to "pussy">>
			<<elseif $arousal gte ($arousalmax / 5) * 2>>
			<<set _text_output to "pussy">>
			<<elseif $arousal gte $arousalmax / 5>>
			<<set _text_output to "quim">>
			<<else>>
			<<set _text_output to "pussy">>
			<</if>>
		<</if>>
	<</if>>
<<else>>
	<<if $orgasmcount gte 23>>
		<<if $orgasmdown gte 1>>
		<<set _text_output to "tortured pussy">>
		<<else>>
		<<set _text_output to "spent pussy">>
		<</if>>
	<<elseif $orgasmcount gte 9>>
		<<if $orgasmdown gte 1>>
		<<set _text_output to "twitching pussy">>
		<<else>>
		<<set _text_output to "tired pussy">>
		<</if>>
	<<else>>
		<<if $orgasmdown gte 1>>
		<<set _text_output to "twitching pussy">>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
			<<set _text_output to "tingling pussy">>
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
			<<set _text_output to "pussy">>
			<<elseif $arousal gte ($arousalmax / 5) * 2>>
			<<set _text_output to "pussy">>
			<<elseif $arousal gte $arousalmax / 5>>
			<<set _text_output to "quim">>
			<<else>>
			<<set _text_output to "pussy">>
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</silently>><<genitalsensitivity>><<print _text_output>><</widget>>

<!-- Too small and too big outputs are intended as error messages
	so that it's more obvious what's wrong when people report bugs -->
<<widget "penissize">><<silently>>
<<if $penissize lt -2>>
	<<set _text_output to "[TOO SMALL]">>
<<elseif $penissize is -2>>
	<<set _text_output to "micro">>
<<elseif $penissize is -1>>
	<<set _text_output to "mini">>
<<elseif $penissize is 0>>
	<<set _text_output to "tiny">>
<<elseif $penissize is 1>>
	<<set _text_output to "small">>
<<elseif $penissize is 2>>
	<<set _text_output to "">>
<<elseif $penissize is 3>>
	<<set _text_output to "large">>
<<elseif $penissize is 4>>
	<<set _text_output to "enormous">>
<<else>>
	<<set _text_output to "[TOO BIG]">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "clit">><<silently>>
<<if $player.penisExist>>
	<<penis>>
<<else>>
	<<set _text_output to "clit">>
<</if>>
<</silently>><<genitalsensitivity>><<print _text_output>><</widget>>

<<widget "penis">><<silently>>
<<penissize>>
<<set _penissize_text to _text_output>>
<<if _penissize_text isnot "">>
	<<set _penissize_text to _penissize_text + " ">>
<</if>>

<<if $orgasmcount gte 23>>
	<<if $orgasmdown gte 1>>
		<<set _text_output to _penissize_text + "tortured penis">>
	<<else>>
	<<set _text_output to _penissize_text + "spent penis">>
	<</if>>
<<elseif $orgasmcount gte 9>>
	<<if $orgasmdown gte 1>>
	<<set _text_output to _penissize_text + "twitching penis">>
	<<else>>
	<<set _text_output to _penissize_text + "tired penis">>
	<</if>>
<<else>>
	<<if $orgasmdown gte 1>>
	<<set _text_output to _penissize_text + "twitching penis">>
	<<else>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
		<<set _text_output to _penissize_text + "tingling penis">>
		<<elseif $arousal gte ($arousalmax / 5) * 3>>
		<<set _text_output to _penissize_text + "penis">>
		<<elseif $arousal gte ($arousalmax / 5) * 2>>
		<<set _text_output to _penissize_text + "penis">>
		<<elseif $arousal gte $arousalmax / 5>>
		<<set _text_output to _penissize_text + "penis">>
		<<else>>
		<<set _text_output to _penissize_text + "penis">>
		<</if>>
	<</if>>
<</if>>

<</silently>><<genitalsensitivity>><<print _text_output>><</widget>>

<<widget "reveal">>
<<if $args[0]>>
	<<if $args[0] gte 900>>
	<span class="red">lewd</span>
	<<elseif $args[0] gte 700>>
	<span class="pink">risqué</span>
	<<elseif $args[0] gte 500>>
	<span class="purple">seductive</span>
	<<elseif $args[0] gte 300>>
	<span class="blue">comfy</span>
	<<elseif $args[0] gte 200>>
	<span class="lblue">tasteful</span>
	<<elseif $args[0] gte 100>>
	<span class="teal">smart</span>
	<<else>>
	<span class="green">unassuming</span>
	<</if>>
<</if>>
<</widget>>

<<widget "integrity">>
<<if $args[0]>>
	<<if $args[1] is "cap">>
		<<if $args[0] gte 900>>
		<span class="green">Tough</span>
		<<elseif $args[0] gte 500>>
		<span class="teal">Sturdy</span>
		<<elseif $args[0] gte 200>>
		<span class="lblue">Firm</span>
		<<elseif $args[0] gte 100>>
		<span class="blue">Fine</span>
		<<elseif $args[0] gte 50>>
		<span class="purple">Delicate</span>
		<<elseif $args[0] gte 20>>
		<span class="pink">Fragile</span>
		<<else>>
		<span class="red">Flimsy</span>
		<</if>>

	<<else>>
		<<if $args[0] gte 900>>
		<span class="green">tough</span>
		<<elseif $args[0] gte 500>>
		<span class="teal">sturdy</span>
		<<elseif $args[0] gte 200>>
		<span class="lblue">firm</span>
		<<elseif $args[0] gte 100>>
		<span class="blue">fine</span>
		<<elseif $args[0] gte 50>>
		<span class="purple">delicate</span>
		<<elseif $args[0] gte 20>>
		<span class="pink">fragile</span>
		<<else>>
		<span class="red">flimsy</span>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "warmth">>
<<if $args[0] gte 75>>
	Very warm.
<<elseif $args[0] gte 50>>
	Warm and snug.
<<elseif $args[0] gte 25>>
	Should help keep the chill off.
<<elseif $args[0] gte 10>>
	Should help keep the chill off.
<<else>>
	Light and cool.
<</if>>
<<if $images is 1>>
	(<span class="cold-resist-icon">$args[0]</span>)
<<else>>
	(Warmth rating: $args[0])
<</if>>
<</widget>>

<<widget "strokes">>

<<if $enemyanger gte ($enemyangermax / 5) * 4 and $enemyarousal gte ($enemyarousalmax / 5) * 4>>savagely toys with
<<elseif $enemyanger gte ($enemyangermax / 5) * 4 and $enemyarousal gte ($enemyarousalmax / 5) * 2>>viciously toys with
<<elseif $enemyanger gte ($enemyangermax / 5) * 4>>brutally rubs
<<elseif $enemyanger gte ($enemyangermax / 5) * 2 and $enemyarousal gte ($enemyarousalmax / 5) * 4>>roughly rubs
<<elseif $enemyanger gte ($enemyangermax / 5) * 2 and $enemyarousal gte ($enemyarousalmax / 5) * 2>>firmly strokes
<<elseif $enemyarousal gte ($enemyarousalmax / 5) * 4>>passionately strokes
<<elseif $enemyarousal gte ($enemyarousalmax / 5) * 2>>vigorously strokes
<<else>>gently caresses
<</if>>

<</widget>>

<<widget "personsimple">><<silently>>
<<if $npcadult is 1>>
	<<set _text_output to ($pronoun is "m" ? "man" : "woman")>>
<<else>>
	<<set _text_output to ($pronoun is "m" ? "boy" : "girl")>>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "person">><<silently>>
<<if $npc_named is 1>>
	<<set _text_output to $description>>
<<elseif $npcadult is 1>>
	<<if $pronoun is "m">>
		<<set _text_output to $description+" man">>
	<<elseif $pronoun is "f">>
		<<set _text_output to $description+" woman">>
	<</if>>
<<else>>
	<<if $pronoun is "m">>
		<<set _text_output to $description+" boy">>
	<<elseif $pronoun is "f">>
		<<set _text_output to $description+" girl">>
	<</if>>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "persons">><<silently>>
	<<person>>
	<<set _text_output to _text_output + "'s">>
<</silently>><<print _text_output>><</widget>>

<<widget "combatperson">><<silently>>
<<if $npc_named is 1>>
	<<set _text_output to $NPCList[_j].fullDescription>>
<<elseif $enemytype is "beast">>
	<<set _text_output to "the " + $NPCList[_j].type>>
<<elseif $npcadult is 1>>
	<<if $pronoun is "m">>
		<<set _text_output to "the " + $description+" man">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "the " + $description+" woman">>
	<</if>>
<<else>>
	<<set _text_output to "the " + $NPCList[_j].fullDescription>>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "combatpersons">><<silently>>
	<<combatperson>>
	<<set _text_output to _text_output + "'s">>
<</silently>><<print _text_output>><</widget>>

<<widget "combatPerson">><<silently>>
	<<combatperson>><<set _text_output to _text_output.toLocaleUpperFirst()>>	
<</silently>><<print _text_output>><</widget>>

<<widget "personselect">>
<!-- This replaces calls person1 person2 etc. Used for NPC object calls -->
<!-- Note calls are 0-5 corresponding to NPCs 1-6 -->
<<set _n to $args[0]>>

<<set $npcadult to $NPCList[_n].adult>>
<<set $pronoun to $NPCList[_n].pronoun>>
<<if $npcrow.includes(_n)>>
	<<set $description to $NPCName[$npcnum[$npcrow.indexOf(_n)]].title>>
	<<set $npc_named to 1>>
<<else>>
	<<set $description to $NPCList[_n].description>>
	<<set $npc_named to 0>>
<</if>>
<</widget>>

<!-- Leaving person1-6 in place for legacy support as of v2.3-->
<<widget "person1">>
<<personselect 0>>
<</widget>>

<<widget "person2">>
<<personselect 1>>
<</widget>>

<<widget "person3">>
<<personselect 2>>
<</widget>>

<<widget "person4">>
<<personselect 3>>
<</widget>>

<<widget "person5">>
<<personselect 4>>
<</widget>>

<<widget "person6">>
<<personselect 5>>
<</widget>>

<<widget "personpenis">><<silently>>
<<if $NPCList[0].penis isnot "none">>
	<<set _text_output to "penis">>
<<else>>
	<<set _text_output to "clit">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "spouse">><<silently>>
<<if random(1,100) lte $homochance>>
	<<set _text_output to ($pronoun is "m" ? "husband" : "wife")>>
<<else>>
	<<set _text_output to ($pronoun is "m" ? "wife" : "husband")>>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "father">><<silently>>
	<<set $_text_output to ($pronoun is "m" ? "father" : "mother")>>
<</silently>><<print $_text_output>><</widget>>

<<widget "father">><<silently>>
<<if $pronoun is "m">>
	<<set $_text_output to "father">>
<<else>>
	<<set $_text_output to "mother">>
<</if>>
<</silently>><<if $_text_output>><<print $_text_output>><</if>>
<</widget>>

/*noeinan mod START*/
/*Added non-binary options to player gender text widgets*/

<<widget "girl">><<silently>>
<<if $player.gender_appearance is "f">>
	<<set _text_output to "girl">>
<<elseif $player.gender_appearance is "m">>
	<<set _text_output to "boy">>
<<else>>
	<<set _text_output to "enby">>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "girlfriend">><<silently>>
<<if $player.gender_appearance is "f">>
	<<set _text_output to "girlfriend">>
<<elseif $player.gender_appearance is "m">>
	<<set _text_output to "boyfriend">>
<<else>>
	<<set _text_output to "datefriend">>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "girls">><<silently>>
<<if $player.gender_appearance is "f">>
	<<set _text_output to "girls">>
<<elseif $player.gender_appearance is "m">>
	<<set _text_output to "boys">>
<<else>>
	<<set _text_output to "kids">>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "wife">><<silently>>
<<if $player.gender_appearance is "f">>
	<<set _text_output to "wife">>
<<elseif $player.gender_appearance is "m">>
	<<set _text_output to "husband">>
<<else>>
	<<set _text_output to "spouse">>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "Wife">><<silently>>
<<wife>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

/*noeinan mod END*/

<<widget "victimgirl">>
<<if $malevictimchance is 0>>
	<<set _text_output to "girl">>
<<elseif $malevictimchance is 100>>
	<<set _text_output to "boy">>
<<elseif $player.gender_appearance is "m">>
	<<set _text_output to "boy">>
<<else>>
	<<set _text_output to "girl">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "victimgirls">>
<<if $malevictimchance is 0>>
	<<set _text_output to "girls">>
<<elseif $malevictimchance is 100>>
	<<set _text_output to "boys">>
<<elseif $player.gender_appearance is "m">>
	<<set _text_output to "boys">>
<<else>>
	<<set _text_output to "girls">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "lass">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "lad" : "lass")>>
<</silently>><<print _text_output>><</widget>>

<<widget "gender">><<silently>>
	<<switch $player.gender>>
	<<case "f">><<set _text_output to "girl">>
	<<case "m">><<set _text_output to "boy">>
	/*noeinan mod START*/
	/*Changed hermaphrodite to enby*/
	<<case "h">><<set _text_output to "enby">>
	/*noeinan mod END*/
	<</switch>>
<</silently>><<print _text_output>><</widget>>

<<widget "genitals_are">><<silently>>
	<<if $args[0] is undefined>>
		<<genitals>>
	<<else>>
		<<genitals 1>>
	<</if>>
	<<if $player.penisExist and $player.vaginaExist and (!$worn.genitals.type.includes("chastity") or $args[0] isnot undefined)>>
		<<set _text_output += " are">>
	<<else>>
		<<set _text_output += " is">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "genitalsensitivity">><<silently>>
<<if $genitalsensitivity > 5>>
	<<set _text_output2 to "sensitive ">>
<<elseif $genitalsensitivity >= 3>>
	<<set _text_output2 to "tender ">>
<<elseif $genitalsensitivity >= 1.5>>
	<<set _text_output2 to "receptive ">>
<</if>>
<</silently>><<print _text_output2>><</widget>>

<<widget "genitals">><<silently>>
<<if $worn.genitals.type.includes("chastity") and $args[0] is undefined and _chastityBreak isnot 1>>
	<<set _text_output to $worn.genitals.name>>
<<else>>
	<<set _text_output to "">>
	<<if $genitalsensitivity > 5>>
		<<set _text_output += "sensitive ">>
	<<elseif $genitalsensitivity >= 3>>
		<<set _text_output += "tender ">>
	<<elseif $genitalsensitivity >= 1.5>>
		<<set _text_output += "receptive ">>
	<</if>>
	<<if $player.penisExist>>
		<<if $player.virginity.penile is true and $args[0] isnot 2>>
			<<set _text_output += "virgin ">>
		<</if>>
		<<set _text_output += "penis">>
	<</if>>
	<<if $player.penisExist and $player.vaginaExist>>
		<<set _text_output += " and ">>
	<</if>>
	<<if $player.vaginaExist>>
		<<if $player.virginity.vaginal is true and $args[0] isnot 2>>
			<<set _text_output += "virgin ">>
		<</if>>
		<<if $pblevel gte 8 and $vaginaWetness gte 75 and $pbdisable is "f">>
			<<set _text_output += "visibly aroused and bushy ">>
		<<elseif $vaginaWetness gte 75>>
			<<set _text_output += "visibly aroused ">>
		<<elseif $pblevel gte 8 and $pbdisable is "f">>
			<<set _text_output += "bushy ">>
		<</if>>
		<<set _text_output += ["pussy", "quim"].pluck()>>
	<</if>>
<</if>>
<</silently>><<print _text_output>><</widget>>

<!-- optionally takes 2 parameters: what to add after the text for singular/plural   -->
<<widget "genitalsandbreasts">>
	<<genitals>> <<if $breastsize gte 1>>and <<breasts>><</if>>
	<<if $args[0] isnot undefined and $args[1] isnot undefined>>
		<<if ($player.penisExist and $player.vaginaExist) or $breastsize gte 1>>
			$args[1]
		<<else>>
			$args[0]
		<</if>>
	<</if>>
<</widget>>

<<widget "lcorruption">> |
<span class="teal">- Corruption</span>
<</widget>>

<<widget "llcorruption">> |
<span class="teal">- - Corruption</span>
<</widget>>

<<widget "lllcorruption">> |
<span class="teal">- - - Corruption</span>
<</widget>>

<<widget "gcorruption">> |
<span class="pink">+ Corruption</span>
<</widget>>

<<widget "ggcorruption">> |
<span class="pink">+ + Corruption</span>
<</widget>>

<<widget "gggcorruption">> |
<span class="pink">+ + + Corruption</span>
<</widget>>

<<widget "lstress">> |
<span class="green">- Stress</span>
<</widget>>

<<widget "llstress">> |
<span class="green">- - Stress</span>
<</widget>>

<<widget "lllstress">> |
<span class="green">- - - Stress</span>
<</widget>>

<<widget "gstress">> |
<span class="red">+ Stress</span>
<</widget>>

<<widget "ggstress">> |
<span class="red">+ + Stress</span>
<</widget>>

<<widget "gggstress">> |
<span class="red">+ + + Stress</span>
<</widget>>

<<widget "ltiredness">> |
<span class="green">- Fatigue</span>
<</widget>>

<<widget "lltiredness">> |
<span class="green">- - Fatigue</span>
<</widget>>

<<widget "llltiredness">> |
<span class="green">- - - Fatigue</span>
<</widget>>

<<widget "gtiredness">> |
<span class="red">+ Fatigue</span>
<</widget>>

<<widget "ggtiredness">> |
<span class="red">+ + Fatigue</span>
<</widget>>

<<widget "gggtiredness">> |
<span class="red">+ + + Fatigue</span>
<</widget>>

<<widget "larousal">> |
<span class="green">- Arousal</span>
<</widget>>

<<widget "llarousal">> |
<span class="green">- - Arousal</span>
<</widget>>

<<widget "lllarousal">> |
<span class="green">- - - Arousal</span>
<</widget>>

<<widget "garousal">> |
<span class="red">+ Arousal</span>
<</widget>>

<<widget "ggarousal">> |
<span class="red">+ + Arousal</span>
<</widget>>

<<widget "gggarousal">> |
<span class="red">+ + + Arousal</span>
<</widget>>

<<widget "ltrauma">> |
<span class="green">- Trauma</span>
<</widget>>

<<widget "lltrauma">> |
<span class="green">- - Trauma</span>
<</widget>>

<<widget "llltrauma">> |
<span class="green">- - - Trauma</span>
<</widget>>

<<widget "gtrauma">> |
<span class="red">+ Trauma</span>
<</widget>>

<<widget "ggtrauma">> |
<span class="red">+ + Trauma</span>
<</widget>>

<<widget "gggtrauma">> |
<span class="red">+ + + Trauma</span>
<</widget>>

<<widget "lrtrauma">> |
<span class="green">- Robin's Trauma</span>
<</widget>>

<<widget "llrtrauma">> |
<span class="green">- - Robin's Trauma</span>
<</widget>>

<<widget "lllrtrauma">> |
<span class="green">- - - Robin's Trauma</span>
<</widget>>

<<widget "grtrauma">> |
<span class="red">+ Robin's Trauma</span>
<</widget>>

<<widget "ggrtrauma">> |
<span class="red">+ + Robin's Trauma</span>
<</widget>>

<<widget "gggrtrauma">> |
<span class="red">+ + + Robin's Trauma</span>
<</widget>>

<<widget "glewdity">> |
<span class="lewd">+ Lewdity</span>
<</widget>>

<<widget "lcontrol">> |
<span class="red">- Control</span>
<</widget>>

<<widget "llcontrol">> |
<span class="red">- - Control</span>
<</widget>>

<<widget "lllcontrol">> |
<span class="red">- - - Control</span>
<</widget>>

<<widget "gcontrol">> |
<span class="green">+ Control</span>
<</widget>>

<<widget "ggcontrol">> |
<span class="green">+ + Control</span>
<</widget>>

<<widget "gggcontrol">> |
<span class="green">+ + + Control</span>
<</widget>>

<<widget "lcombatcontrol">> |
<span class="red">- Control</span> |
<</widget>>

<<widget "llcombatcontrol">> |
<span class="red">- - Control</span> |
<</widget>>

<<widget "lllcombatcontrol">> |
<span class="red">- - - Control</span> |
<</widget>>

<<widget "gcombatcontrol">>
	<<if $control lt $controlstart>> |
<span class="green">+ Control</span> |
	<</if>>
<</widget>>

<<widget "ggcombatcontrol">>
	<<if $control lt $controlstart>> |
<span class="green">+ + Control</span> |
	<</if>>
<</widget>>

<<widget "gggcombatcontrol">>
	<<if $control lt $controlstart>> |
<span class="green">+ + + Control</span> |
	<</if>>
<</widget>>

<<widget "lpain">> |
<span class="green">- Pain</span>
<</widget>>

<<widget "llpain">> |
<span class="green">- - Pain</span>
<</widget>>

<<widget "lllpain">> |
<span class="green">- - - Pain</span>
<</widget>>

<<widget "gpain">> |
<span class="red">+ Pain</span>
<</widget>>

<<widget "ggpain">> |
<span class="red">+ + Pain</span>
<</widget>>

<<widget "gggpain">> |
<span class="red">+ + + Pain</span>
<</widget>>

<<widget "loxygen">> |
<span class="blue">- Air</span>
<</widget>>

<<widget "goxygen">> |
<span class="teal">+ Air</span>
<</widget>>

<<widget "lawareness">> |
<<if $innocencestate is 1>>
<span class="blue">+ Innocence</span>
<<else>>
<span class="blue">- Awareness</span>
<</if>>
<</widget>>

<<widget "llawareness">> |
<<if $innocencestate is 1>>
<span class="blue">+ + Innocence</span>
<<else>>
<span class="blue">- - Awareness</span>
<</if>>
<</widget>>

<<widget "lllawareness">> |
<<if $innocencestate is 1>>
<span class="blue">+ + + Innocence</span>
<<else>>
<span class="blue">- - - Awareness</span>
<</if>>
<</widget>>

<<widget "gawareness">> |
<<if $innocencestate is 1>>
<span class="blue">- Innocence</span>
<<else>>
<span class="lblue">+ Awareness</span>
<</if>>
<</widget>>

<<widget "ggawareness">> |
<<if $innocencestate is 1>>
<span class="blue">- - Innocence</span>
<<else>>
<span class="lblue">+ + Awareness</span>
<</if>>
<</widget>>

<<widget "gggawareness">> |
<<if $innocencestate is 1>>
<span class="blue">- - - Innocence</span>
<<else>>
<span class="lblue">+ + + Awareness</span>
<</if>>
<</widget>>

<<widget "gpurity">> |
<span class="green">+ Purity</span>
<</widget>>

<<widget "ggpurity">> |
<span class="green">+ + Purity</span>
<</widget>>

<<widget "gggpurity">> |
<span class="green">+ + + Purity</span>
<</widget>>

<<widget "lpurity">> |
<span class="red">- Purity</span>
<</widget>>

<<widget "llpurity">> |
<span class="red">- - Purity</span>
<</widget>>

<<widget "lllpurity">> |
<span class="red">- - - Purity</span>
<</widget>>

<<widget "gspurity">> |
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
	<span class="teal">+ Sydney's Purity</span>
<<else>>
	<span class="teal">- Sydney's Corruption</span>
<</if>>
<<set _warnstate to 1>>
<</widget>>

<<widget "ggspurity">> |
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
	<span class="teal">+ + Sydney's Purity</span>
<<else>>
	<span class="teal">- - Sydney's Corruption</span>
<</if>>
<<set _warnstate to 2>>
<</widget>>

<<widget "gggspurity">> |
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
	<span class="teal">+ + + Sydney's Purity</span>
<<else>>
	<span class="teal">- - - Sydney's Corruption</span>
<</if>>
<<set _warnstate to 3>>
<</widget>>

<<widget "lspurity">> |
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
	<span class="purple">- Sydney's Purity</span>
<<else>>
	<span class="purple">+ Sydney's Corruption</span>
<</if>>
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity lte 50 and _lustincrdisplay isnot 1>>
	<<glust>>
<</if>>
<<set _warnstate to 1>>
<</widget>>

<<widget "llspurity">> |
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
	<span class="purple">- - Sydney's Purity</span>
<<else>>
	<span class="purple">+ + Sydney's Corruption</span>
<</if>>
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity lte 50 and _lustincrdisplay isnot 1>>
	<<glust>>
<</if>>
<<set _warnstate to 2>>
<</widget>>

<<widget "lllspurity">> |
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
	<span class="purple">- - - Sydney's Purity</span>
<<else>>
	<span class="purple">+ + + Sydney's Corruption</span>
<</if>>
<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity lte 50 and _lustincrdisplay isnot 1>>
	<<glust>>
<</if>>
<<set _warnstate to 3>>
<</widget>>

<<widget "gslust">> |
<span class="lewd">+ Lust</span><<set _lustincrdisplay to 1>>
<</widget>>

<<widget "ggslust">> |
<span class="lewd">+ + Lust</span><<set _lustincrdisplay to 1>>
<</widget>>

<<widget "gggslust">> |
<span class="lewd">+ + + Lust</span><<set _lustincrdisplay to 1>>
<</widget>>

<<widget "lslust">> |
<span class="teal">- Lust</span><<set _lustincrdisplay to 1>>
<</widget>>

<<widget "llslust">> |
<span class="teal">- - Lust</span><<set _lustincrdisplay to 1>>
<</widget>>

<<widget "lllslust">> |
<span class="teal">- - - Lust</span><<set _lustincrdisplay to 1>>
<</widget>>

<<widget "sydneyWarning">>
<<if $args[0]>>
	<<if $corruptionEvent is 1 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 10) lt 0>>
		| <span class="purple">This action might corrupt Sydney</span>
	<</if>>
<<else>>
	<<switch _warnstate>>
		<<case 1>>
			<<if $corruptionEvent is 1 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 2) lt 0>>
				| <span class="purple">This action will corrupt Sydney</span>
			<</if>>
			<<if $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption isnot 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 2) lt 0>>
				| <span class="teal">This action will purify Sydney</span>
			<</if>>
		<<case 2>>
			<<if $corruptionEvent is 1 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 5) lt 0>>
				| <span class="purple">This action will corrupt Sydney</span>
			<</if>>
			<<if $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption isnot 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 5) lt 0>>
				| <span class="teal">This action will purify Sydney</span>
			<</if>>
		<<case 3>>
			<<if $corruptionEvent is 1 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 10) lt 0>>
				| <span class="purple">This action will corrupt Sydney</span>
			<</if>>
			<<if $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption isnot 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 10) lt 0>>
				| <span class="teal">This action will purify Sydney</span>
			<</if>>
	<</switch>>
<</if>>
<</widget>>

<<widget "lscience">> |
<span class="red">- Science</span>
<</widget>>

<<widget "gscience">> |
<span class="green">+ Science</span> <<g_science_star>>
<</widget>>

<<widget "ggscience">> |
<span class="green">+ + Science</span> <<g_science_star>>
<</widget>>

<<widget "gggscience">> |
<span class="green">+ + + Science</span> <<g_science_star>>
<</widget>>

<<widget "lmaths">> |
<span class="red">- Maths</span>
<</widget>>

<<widget "gmaths">> |
<span class="green">+ Maths</span> <<g_maths_star>>
<</widget>>

<<widget "ggmaths">> |
<span class="green">+ + Maths</span> <<g_maths_star>>
<</widget>>

<<widget "gggmaths">> |
<span class="green">+ + +Maths</span> <<g_maths_star>>
<</widget>>

<<widget "lenglish">> |
<span class="red">- English</span>
<</widget>>

<<widget "genglish">> |
<span class="green">+ English</span> <<g_english_star>>
<</widget>>

<<widget "ggenglish">> |
<span class="green">+ + English</span> <<g_english_star>>
<</widget>>

<<widget "gggenglish">> |
<span class="green">+ + + English</span> <<g_english_star>>
<</widget>>

<<widget "lhistory">> |
<span class="red">- History</span>
<</widget>>

<<widget "ghistory">> |
<span class="green">+ History</span> <<g_history_star>>
<</widget>>

<<widget "gghistory">> |
<span class="green">+ + History</span> <<g_history_star>>
<</widget>>

<<widget "ggghistory">> |
<span class="green">+ + + History</span> <<g_history_star>>
<</widget>>

<<widget "gschool">> |
<span class="green">+ School</span>
<</widget>>

<<widget "gswimming">> |
<span class="green">+ Swimming</span>
<</widget>>

<<widget "ggswimming">> |
<span class="green">+ + Swimming</span>
<</widget>>

<<widget "gggswimming">> |
<span class="green">+ + + Swimming</span>
<</widget>>

<<widget "gathletics">> |
<span class="green">+ Athletics</span>
<</widget>>

<<widget "ggathletics">> |
<span class="green">+ + Athletics</span>
<</widget>>

<<widget "gggathletics">> |
<span class="green">+ + + Athletics</span>
<</widget>>

<<widget "gtending">> |
<span class="green">+ Tending</span>
<</widget>>

<<widget "ggtending">> |
<span class="green">+ + Tending</span>
<</widget>>

<<widget "gggtending">> |
<span class="green">+ + + Tending</span>
<</widget>>

<<widget "gdanceskill">> |
<span class="green">+ Dance skill</span>
<</widget>>

<<widget "ggdanceskill">> |
<span class="green">+ + Dance skill</span>
<</widget>>

<<widget "gggdanceskill">> |
<span class="green">+ + + Dance skill</span>
<</widget>>

<<widget "lharass">> |
<span class="teal">Decreases chance of harassment</span>
<</widget>>

<<widget "gharass">> |
<span class="pink">Increases chance of harassment</span>
<</widget>>

<<widget "ltreasure">> |
<span class="purple">Decreases chance of finding treasure</span>
<</widget>>

<<widget "gtreasure">> |
<span class="green">Increases chance of finding treasure</span>
<</widget>>

<<widget "gdelinquency">> |
<span class="red">+ Delinquency</span>
<</widget>>

<<widget "ggdelinquency">> |
<span class="red">+ + Delinquency</span>
<</widget>>

<<widget "gggdelinquency">> |
<span class="red">+ + + Delinquency</span>
<</widget>>

<<widget "ldelinquency">> |
<span class="green">- Delinquency</span>
<</widget>>

<<widget "lldelinquency">> |
<span class="green">- - Delinquency</span>
<</widget>>

<<widget "llldelinquency">> |
<span class="green">- - - Delinquency</span>
<</widget>>

<<widget "gcool">> |
<span class="green">+ Status</span>
<</widget>>

<<widget "ggcool">> |
<span class="green">+ + Status</span>
<</widget>>

<<widget "gggcool">> |
<span class="green">+ + + Status</span>
<</widget>>

<<widget "lcool">> |
<span class="red">- Status</span>
<</widget>>

<<widget "llcool">> |
<span class="red">- - Status</span>
<</widget>>

<<widget "lllcool">> |
<span class="red">- - - Status</span>
<</widget>>



<<widget "gchaos">> |
<span class="green">+ Chaos</span>
<</widget>>

<<widget "ggchaos">> |
<span class="green">+ + Chaos</span>
<</widget>>

<<widget "gggchaos">> |
<span class="green">+ + + Chaos</span>
<</widget>>

<<widget "lchaos">> |
<span class="red">- Chaos</span>
<</widget>>

<<widget "llchaos">> |
<span class="red">- - Chaos</span>
<</widget>>

<<widget "lllchaos">> |
<span class="red">- - - Chaos</span>
<</widget>>

<<widget "gtrust">> |
<span class="green">+ Trust</span>
<</widget>>

<<widget "ggtrust">> |
<span class="green">+ + Trust</span>
<</widget>>

<<widget "gggtrust">> |
<span class="green">+ + + Trust</span>
<</widget>>

<<widget "ltrust">> |
<span class="red">- Trust</span>
<</widget>>

<<widget "lltrust">> |
<span class="red">- - Trust</span>
<</widget>>

<<widget "llltrust">> |
<span class="red">- - - Trust</span>
<</widget>>

<<widget "glove">> |
<span class="green">+ Love</span>
<</widget>>

<<widget "gglove">> |
<span class="green">+ + Love</span>
<</widget>>

<<widget "ggglove">> |
<span class="green">+ + + Love</span>
<</widget>>

<<widget "llove">> |
<span class="red">- Love</span>
<</widget>>

<<widget "lllove">> |
<span class="red">- - Love</span>
<</widget>>

<<widget "llllove">> |
<span class="red">- - - Love</span>
<</widget>>

<<widget "glust">> |
<span class="lewd">+ Lust</span>
<</widget>>

<<widget "gglust">> |
<span class="lewd">+ + Lust</span>
<</widget>>

<<widget "ggglust">> |
<span class="lewd">+ + + Lust</span>
<</widget>>

<<widget "llust">> |
<span class="teal">- Lust</span>
<</widget>>

<<widget "lllust">> |
<span class="teal">- - Lust</span>
<</widget>>

<<widget "llllust">> |
<span class="teal">- - - Lust</span>
<</widget>>

<<widget "gdom">> |
<<if $npc.includes("Robin") or $args[0] is "Robin">>
<span class="purple">+ Robin's Confidence</span>
<<elseif $args[0] isnot undefined>>
<span class="purple">+ $args[0]'s Dominance</span>
<<elseif $npc.length isnot 0>>
<span class="purple">+ $npc[0]'s Dominance</span>
<<else>>
<span class="purple">+ NPC Dominance</span>
<</if>>
<</widget>>

<<widget "ggdom">> |
<<if $npc.includes("Robin") or $args[0] is "Robin">>
<span class="purple">+ + Robin's Confidence</span>
<<elseif $args[0] isnot undefined>>
<span class="purple">+ + $args[0]'s Dominance</span>
<<elseif $npc.length isnot 0>>
<span class="purple">+ + $npc[0]'s Dominance</span>
<<else>>
<span class="purple">+ + NPC Dominance</span>
<</if>>
<</widget>>

<<widget "gggdom">> |
<<if $npc.includes("Robin") or $args[0] is "Robin">>
<span class="purple">+ + + Robin's Confidence</span>
<<elseif $args[0] isnot undefined>>
<span class="purple">+ + + $args[0]'s Dominance</span>
<<elseif $npc.length isnot 0>>
<span class="purple">+ + + $npc[0]'s Dominance</span>
<<else>>
<span class="purple">+ + + NPC Dominance</span>
<</if>>
<</widget>>

<<widget "ldom">> |
<<if $npc.includes("Robin") or $args[0] is "Robin">>
<span class="lblue">- Robin's Confidence</span>
<<elseif $args[0] isnot undefined>>
<span class="purple">- $args[0]'s Dominance</span>
<<elseif $npc.length isnot 0>>
<span class="lblue">- $npc[0]'s Dominance</span>
<<else>>
<span class="lblue">- NPC Dominance</span>
<</if>>
<</widget>>

<<widget "lldom">> |
<<if $npc.includes("Robin") or $args[0] is "Robin">>
<span class="lblue">- - Robin's Confidence</span>
<<elseif $args[0] isnot undefined>>
<span class="purple">- - $args[0]'s Dominance</span>
<<elseif $npc.length isnot 0>>
<span class="lblue">- - $npc[0]'s Dominance</span>
<<else>>
<span class="lblue">- - NPC Dominance</span>
<</if>>
<</widget>>

<<widget "llldom">> |
<<if $npc.includes("Robin") or $args[0] is "Robin">>
<span class="lblue">- - - Robin's Confidence</span>
<<elseif $args[0] isnot undefined>>
<span class="purple">- - - $args[0]'s Dominance</span>
<<elseif $npc.length isnot 0>>
<span class="lblue">- - - $npc[0]'s Dominance</span>
<<else>>
<span class="lblue">- - - NPC Dominance</span>
<</if>>
<</widget>>

<<widget "grespect">> |
<span class="green">+ Respect</span>
<</widget>>

<<widget "ggrespect">> |
<span class="green">+ + Respect</span>
<</widget>>

<<widget "gggrespect">> |
<span class="green">+ + + Respect</span>
<</widget>>

<<widget "lrespect">> |
<span class="red">- Respect</span>
<</widget>>

<<widget "llrespect">> |
<span class="red">- - Respect</span>
<</widget>>

<<widget "lllrespect">> |
<span class="red">- - - Respect</span>
<</widget>>

<<widget "gadeviancy">> |
<span class="red">+ Alex's Deviancy</span>
<</widget>>

<<widget "ggadeviancy">> |
<span class="red">+ + Alex's Deviancy</span>
<</widget>>

<<widget "gggadeviancy">> |
<span class="red">+ + + Alex's Deviancy</span>
<</widget>>

<<widget "ladeviancy">> |
<span class="green">- Alex's Deviancy</span>
<</widget>>

<<widget "lladeviancy">> |
<span class="green">- - Alex's Deviancy</span>
<</widget>>

<<widget "llladeviancy">> |
<span class="green">- - - Alex's Deviancy</span>
<</widget>>

<<widget "gaggro">> |
<span class="red">+ Remy's encroachment</span>
<</widget>>

<<widget "ggaggro">> |
<span class="red">+ + Remy's encroachment</span>
<</widget>>

<<widget "gggaggro">> |
<span class="red">+ + + Remy's encroachment</span>
<</widget>>

<<widget "laggro">> |
<span class="green">- Remy's encroachment</span>
<</widget>>

<<widget "llaggro">> |
<span class="green">- - Remy's encroachment</span>
<</widget>>

<<widget "lllaggro">> |
<span class="green">- - - Remy's encroachment</span>
<</widget>>

<<widget "gksuspicion">> |
<span class="red">+ Jealousy</span>
<</widget>>

<<widget "ggksuspicion">> |
<span class="red">+ + Jealousy</span>
<</widget>>

<<widget "gggksuspicion">> |
<span class="red">+ + + Jealousy</span>
<</widget>>

<<widget "lksuspicion">> |
<span class="green">- Jealousy</span>
<</widget>>

<<widget "llksuspicion">> |
<span class="green">- - Jealousy</span>
<</widget>>

<<widget "lllksuspicion">> |
<span class="green">- - - Jealousy</span>
<</widget>>

<<widget "gsuspicion">> |
<span class="red">+ Suspicion</span>
<</widget>>

<<widget "ggsuspicion">> |
<span class="red">+ + Suspicion</span>
<</widget>>

<<widget "gggsuspicion">> |
<span class="red">+ + + Suspicion</span>
<</widget>>

<<widget "lsuspicion">> |
<span class="green">- Suspicion</span>
<</widget>>

<<widget "llsuspicion">> |
<span class="green">- - Suspicion</span>
<</widget>>

<<widget "lllsuspicion">> |
<span class="green">- - - Suspicion</span>
<</widget>>

<<widget "garage">><<if $averyragerevealed is 1>> |
<span class="red">+ Rage</span>
<</if>><</widget>>

<<widget "ggarage">><<if $averyragerevealed is 1>> |
<span class="red">+ + Rage</span>
<</if>><</widget>>

<<widget "gggarage">><<if $averyragerevealed is 1>> |
<span class="red">+ + + Rage</span>
<</if>><</widget>>

<<widget "larage">><<if $averyragerevealed is 1>> |
<span class="green">- Rage</span>
<</if>><</widget>>

<<widget "llarage">><<if $averyragerevealed is 1>> |
<span class="green">- - Rage</span>
<</if>><</widget>>

<<widget "lllarage">><<if $averyragerevealed is 1>> |
<span class="green">- - - Rage</span>
<</if>><</widget>>

<<widget "gendear">> |
<span class="teal">+ Endearment</span>
<</widget>>

<<widget "ggendear">> |
<span class="teal">+ + Endearment</span>
<</widget>>

<<widget "gggendear">> |
<span class="teal">+ + + Endearment</span>
<</widget>>

<<widget "lendear">> |
<span class="pink">- Endearment</span>
<</widget>>

<<widget "llendear">> |
<span class="pink">- - Endearment</span>
<</widget>>

<<widget "lllendear">> |
<span class="pink">- - - Endearment</span>
<</widget>>

<<widget "ghope">> |
<span class="teal">+ Hope</span>
<</widget>>

<<widget "gghope">> |
<span class="teal">+ + Hope</span>
<</widget>>

<<widget "ggghope">> |
<span class="teal">+ + + Hope</span>
<</widget>>

<<widget "lhope">> |
<span class="pink">- Hope</span>
<</widget>>

<<widget "llhope">> |
<span class="pink">- - Hope</span>
<</widget>>

<<widget "lllhope">> |
<span class="pink">- - - Hope</span>
<</widget>>

<<widget "greb">> |
<span class="def">+ Rebelliousness</span>
<</widget>>

<<widget "ggreb">> |
<span class="def">+ + Rebelliousness</span>
<</widget>>

<<widget "gggreb">> |
<span class="def">+ + + Rebelliousness</span>
<</widget>>

<<widget "lreb">> |
<span class="blue">- Rebelliousness</span>
<</widget>>

<<widget "llreb">> |
<span class="blue">- - Rebelliousness</span>
<</widget>>

<<widget "lllreb">> |
<span class="blue">- - - Rebelliousness</span>
<</widget>>

<<widget "ghandskill">> |
<span class="green">+ Hand Skill</span>
<</widget>>

<<widget "goralskill">> |
<span class="green">+ Oral Skill</span>
<</widget>>

<<widget "gthighskill">> |
<span class="green">+ Thigh Skill</span>
<</widget>>

<<widget "gbottomskill">> |
<span class="green">+ Ass Skill</span>
<</widget>>

<<widget "gvaginalskill">> |
<span class="green">+ Vaginal Skill</span>
<</widget>>

<<widget "gpenileskill">> |
<span class="green">+ Penile Skill</span>
<</widget>>

<<widget "ganalskill">> |
<span class="green">+ Anal Skill</span>
<</widget>>

<<widget "gfeetskill">> |
<span class="green">+ Feet Skill</span>
<</widget>>

<<widget "gchestskill">> |
<span class="green">+ Chest Skill</span>
<</widget>>

<<widget "gstockholm">> |
<span class="blue">+ Stockholm Syndrome</span>
<</widget>>

<<widget "ggstockholm">> |
<span class="blue">+ + Stockholm Syndrome</span>
<</widget>>

<<widget "gggstockholm">> |
<span class="blue">+ + + Stockholm Syndrome</span>
<</widget>>

<<widget "lstockholm">> |
<span class="lblue">- Stockholm Syndrome</span>
<</widget>>

<<widget "llstockholm">> |
<span class="lblue">- - Stockholm Syndrome</span>
<</widget>>

<<widget "lllstockholm">> |
<span class="lblue">- - - Stockholm Syndrome</span>
<</widget>>

<<widget "gshame">> |
<span class="red">+ Shame</span>
<</widget>>

<<widget "ggshame">> |
<span class="red">+ + Shame</span>
<</widget>>

<<widget "gggshame">> |
<span class="red">+ + + Shame</span>
<</widget>>

<<widget "lshame">> |
<span class="green">- Shame</span>
<</widget>>

<<widget "llshame">> |
<span class="green">- - Shame</span>
<</widget>>

<<widget "lllshame">> |
<span class="green">- - - Shame</span>
<</widget>>

<<widget "gfarm">> |
<span class="green">+ Farm yield</span>
<</widget>>

<<widget "ggfarm">> |
<span class="green">+ + Farm yield</span>
<</widget>>

<<widget "gggfarm">> |
<span class="green">+ + + Farm yield</span>
<</widget>>

<<widget "lfarm">> |
<span class="red">- Farm yield</span>
<</widget>>

<<widget "llfarm">> |
<span class="red">- - Farm yield</span>
<</widget>>

<<widget "lllfarm">> |
<span class="red">- - - Farm yield</span>
<</widget>>

<<widget "gnet">> |
<span class="green">+ Net proficiency</span>
<</widget>>

<<widget "gsecurity">> |
<span class="red">+ Security</span>
<</widget>>

<<widget "ggsecurity">> |
<span class="red">+ + Security</span>
<</widget>>

<<widget "gggsecurity">> |
<span class="red">+ + + Security</span>
<</widget>>

<<widget "lsecurity">> |
<span class="green">- Security</span>
<</widget>>

<<widget "llsecurity">> |
<span class="green">- - Security</span>
<</widget>>

<<widget "lllsecurity">> |
<span class="green">- - - Security</span>
<</widget>>

<<widget "gdaring">> |
<span class="green">+ Daring</span>
<</widget>>

<<widget "ggdaring">> |
<span class="green">+ + Daring</span>
<</widget>>

<<widget "gggdaring">> |
<span class="green">+ + + Daring</span>
<</widget>>

<<widget "ldaring">> |
<span class="red">- Daring</span>
<</widget>>

<<widget "lldaring">> |
<span class="red">- - Daring</span>
<</widget>>

<<widget "llldaring">> |
<span class="red">- - - Daring</span>
<</widget>>

<<widget "gknowledge">> |
<span class="green">+ Knowledge</span>
<</widget>>

<<widget "flight_text">> |
<<if $harpy gte 6 and $birdFly gte 1>>
	<span class="gold">Strong wings</span>
<<elseif $angel gte 6 or $demon gte 6 or $fallenangel gte 2 or $harpy gte 6 or $bee gte 6>>
	<span class="gold">Wings</span>
<</if>>
<</widget>>

<<widget "ginsecurity">>

<<if $args[0] is "penis_tiny">>
	<<if $acceptance_penis_tiny lte 999>>
	| <span class="red">+ Insecurity</span>
	<</if>>
<<elseif $args[0] is "penis_small">>
	<<if $acceptance_penis_small lte 999>>
	| <span class="red">+ Insecurity</span>
	<</if>>
<<elseif $args[0] is "penis_big">>
	<<if $acceptance_penis_big lte 999>>
	| <span class="red">+ Insecurity</span>
	<</if>>
<<elseif $args[0] is "breasts_tiny">>
	<<if $acceptance_breasts_tiny lte 999 and $player.gender is "f">>
	| <span class="red">+ Insecurity</span>
	<</if>>
<<elseif $args[0] is "breasts_small">>
	<<if $acceptance_breasts_small lte 999>>
	| <span class="red">+ Insecurity</span>
	<</if>>
<<elseif $args[0] is "breasts_big">>
	<<if $acceptance_breasts_big lte 999>>
	| <span class="red">+ Insecurity</span>
	<</if>>
<</if>>

<</widget>>

<<widget "lgrace">>
<<if $args[1] is "monk">>
	<<if $temple_rank is "initiate">>
		|
		<span class="red">- Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "priest">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk">>
		|
		<span class="red">- Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "bishop">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">>
		|
		<span class="red">- Grace</span>
	<<else>>
	<</if>>
<<else>>
 |
<span class="red">- Grace</span>
<</if>>

<</widget>>

<<widget "llgrace">>
<<if $args[1] is "monk">>
	<<if $temple_rank is "initiate">>
		|
		<span class="red">- - Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "priest">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk">>
		|
		<span class="red">- - Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "bishop">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">>
		|
		<span class="red">- - Grace</span>
	<<else>>
	<</if>>
<<else>>
 |
<span class="red">- - Grace</span>
<</if>>

<</widget>>

<<widget "lllgrace">>
<<if $args[1] is "monk">>
	<<if $temple_rank is "initiate">>
		|
		<span class="red">- - - Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "priest">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk">>
		|
		<span class="red">- - - Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "bishop">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">>
		|
		<span class="red">- - - Grace</span>
	<<else>>
	<</if>>
<<else>>
 |
<span class="red">- - - Grace</span>
<</if>>

<</widget>>

<<widget "ggrace">>
<<if $args[1] is "monk">>
	<<if $temple_rank is "initiate">>
		|
		<span class="green">+ Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "priest">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk">>
		|
		<span class="green">+ Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "bishop">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">>
		|
		<span class="green">+ Grace</span>
	<<else>>
	<</if>>
<<else>>
 |
<span class="green">+ Grace</span>
<</if>>

<</widget>>

<<widget "gggrace">>
<<if $args[1] is "monk">>
	<<if $temple_rank is "initiate">>
		|
		<span class="green">+ + Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "priest">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk">>
		|
		<span class="green">+ + Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "bishop">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">>
		|
		<span class="green">+ + Grace</span>
	<<else>>
	<</if>>
<<else>>
 |
<span class="green">+ + Grace</span>
<</if>>

<</widget>>

<<widget "ggggrace">>
<<if $args[1] is "monk">>
	<<if $temple_rank is "initiate">>
		|
		<span class="green">+ + + Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "priest">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk">>
		|
		<span class="green">+ + + Grace</span>
	<<else>>
	<</if>>
<<elseif $args[1] is "bishop">>
	<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">>
		|
		<span class="green">+ + + Grace</span>
	<<else>>
	<</if>>
<<else>>
 |
<span class="green">+ + + Grace</span>
<</if>>

<</widget>>

<<widget "lobey">> |
<span class="red">- Obedience</span>
<</widget>>

<<widget "llobey">> |
<span class="red">- - Obedience</span>
<</widget>>

<<widget "lllobey">> |
<span class="red">- - - Obedience</span>
<</widget>>

<<widget "gobey">> |
<span class="pink">+ Obedience</span>
<</widget>>

<<widget "ggobey">> |
<span class="pink">+ + Obedience</span>
<</widget>>

<<widget "gggobey">> |
<span class="pink">+ + + Obedience</span>
<</widget>>

<<widget "lhunger">> |
<span class="green">- Hunger</span>
<</widget>>

<<widget "llhunger">> |
<span class="green">- - Hunger</span>
<</widget>>

<<widget "lllhunger">> |
<span class="green">- - - Hunger</span>
<</widget>>

<<widget "ghunger">> |
<span class="red">+ Hunger</span>
<</widget>>

<<widget "gghunger">> |
<span class="red">+ + Hunger</span>
<</widget>>

<<widget "ggghunger">> |
<span class="red">+ + + Hunger</span>
<</widget>>

<<widget "gacceptance">> |
<span class="green">+ Acceptance</span>
<</widget>>

<<widget "gwillpower">> |
<span class="green">+ Willpower</span>
<</widget>>

<<widget "ggwillpower">> |
<span class="green">+ + Willpower</span>
<</widget>>

<<widget "gggwillpower">> |
<span class="green">+ + + Willpower</span>
<</widget>>

<<widget "gphysique">>|
<span class="green">+ Physique</span>
<</widget>>

<<widget "ggphysique">> |
<span class="green">+ + Physique</span>
<</widget>>

<<widget "gggphysique">> |
<span class="green">+ + + Physique</span>
<</widget>>

<!-- Exhibitionism -->

<<widget "exhibitionist">> |
	<<set _color to ["","teal","lblue","blue","purple","pink"][$args[0]]>>
	<span @class="_color">Exhibitionism $args[0]</span>
<</widget>>

<<widget "exhibitionist1">> |
<span class="teal">Exhibitionism 1</span>
<</widget>>

<<widget "exhibitionist2">> |
<span class="lblue">Exhibitionism 2</span>
<</widget>>

<<widget "exhibitionist3">> |
<span class="blue">Exhibitionism 3</span>
<</widget>>

<<widget "exhibitionist4">> |
<span class="purple">Exhibitionism 4</span>
<</widget>>

<<widget "exhibitionist5">> |
<span class="pink">Exhibitionism 5</span>
<</widget>>

<<widget "combatexhibitionist">>
	<<set _color to ["","teal","lblue","blue","purple","pink"][$args[0]]>>
	<span @class="_color">Exhibitionism $args[0]</span>
<</widget>>

<<widget "combatexhibitionist1">>
<span class="teal">Exhibitionism 1</span>
<</widget>>

<<widget "combatexhibitionist2">>
<span class="lblue">Exhibitionism 2</span>
<</widget>>

<<widget "combatexhibitionist3">>
<span class="blue">Exhibitionism 3</span>
<</widget>>

<<widget "combatexhibitionist4">>
<span class="purple">Exhibitionism 4</span>
<</widget>>

<<widget "combatexhibitionist5">>
<span class="pink">Exhibitionism 5</span>
<</widget>>

<!-- Promiscuity -->

<<widget "promiscuous">> |
	<<set _color to ["","teal","lblue","blue","purple","pink"][$args[0]]>>
	<span @class="_color">Promiscuity $args[0]</span>
<</widget>>

<<widget "promiscuous1">> |
<span class="teal">Promiscuity 1</span>
<</widget>>

<<widget "promiscuous2">> |
<span class="lblue">Promiscuity 2</span>
<</widget>>

<<widget "promiscuous3">> |
<span class="blue">Promiscuity 3</span>
<</widget>>

<<widget "promiscuous4">> |
<span class="purple">Promiscuity 4</span>
<</widget>>

<<widget "promiscuous5">> |
<span class="pink">Promiscuity 5</span>
<</widget>>

<<widget "combatpromiscuous">>
<<if $consensual is 1 and !$promiscuityIgnore>>
	<<set _color to ["","teal","lblue","blue","purple","pink"][$args[0]]>>
	<span @class="_color"><<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> $args[0]</span>
<</if>>
<</widget>>

<<widget "combatpromiscuous1">>
<<if $consensual is 1 and !$promiscuityIgnore>>
	<span class="teal"><<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> 1</span>
<</if>>
<</widget>>

<<widget "combatpromiscuous2">>
<<if $consensual is 1 and !$promiscuityIgnore>>
	<span class="lblue"><<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> 2</span>
<</if>>
<</widget>>

<<widget "combatpromiscuous3">>
<<if $consensual is 1 and !$promiscuityIgnore>>
	<span class="blue"><<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> 3</span>
<</if>>
<</widget>>

<<widget "combatpromiscuous4">>
<<if $consensual is 1 and !$promiscuityIgnore>>
	<span class="purple"><<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> 4</span>
<</if>>
<</widget>>

<<widget "combatpromiscuous5">>
<<if $consensual is 1 and !$promiscuityIgnore>>
	<span class="pink"><<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> 5</span>
<</if>>
<</widget>>

<!-- Deviancy -->

<<widget "deviant">> |
	<<set _color to ["","teal","lblue","blue","purple","pink"][$args[0]]>>
	<span @class="_color">Deviancy $args[0]</span>
<</widget>>

<<widget "deviant1">> |
<span class="teal">Deviancy 1</span>
<</widget>>

<<widget "deviant2">> |
<span class="lblue">Deviancy 2</span>
<</widget>>

<<widget "deviant3">> |
<span class="blue">Deviancy 3</span>
<</widget>>

<<widget "deviant4">> |
<span class="purple">Deviancy 4</span>
<</widget>>

<<widget "deviant5">> |
<span class="pink">Deviancy 5</span>
<</widget>>

<<widget "combatdeviant">>
	<<if $consensual is 1>>
		<<set _color to ["","teal","lblue","blue","purple","pink"][$args[0]]>>
		<span @class="_color">Deviancy $args[0]</span>
	<</if>>
<</widget>>

<<widget "combatdeviant1">>
<<if $consensual is 1>>
<span class="teal">Deviancy 1</span>
<</if>>
<</widget>>

<<widget "combatdeviant2">>
<<if $consensual is 1>>
<span class="lblue">Deviancy 2</span>
<</if>>
<</widget>>

<<widget "combatdeviant3">>
<<if $consensual is 1>>
<span class="blue">Deviancy 3</span>
<</if>>
<</widget>>

<<widget "combatdeviant4">>
<<if $consensual is 1>>
<span class="purple">Deviancy 4</span>
<</if>>
<</widget>>

<<widget "combatdeviant5">>
<<if $consensual is 1>>
<span class="pink">Deviancy 5</span>
<</if>>
<</widget>>

<<widget "admires">>
<<print either("leers at", "admires", "ogles", "eyes up")>>
<</widget>>

<<widget "crime">>
 | <span class="red">Crime</span>
<</widget>>

<<widget "combatcrime">>
<span class="red">Crime</span>
<</widget>>

<<widget "gcrime">>
 | <span class="red">+ Crime</span>
<</widget>>

<<widget "ggcrime">>
 | <span class="red">+ + Crime</span>
<</widget>>

<<widget "gggcrime">>
 | <span class="red">+ + + Crime</span>
<</widget>>

<<widget "gspray">>
 | <span class="green">+ 1 pepper spray.</span>
<</widget>>

<<widget "gspraymax">>
 | <span class="gold">+ 1 pepper spray capacity.</span>
<</widget>>

<<widget "defianttext">>
 | <span class="def">Defiant</span>
<</widget>>

<<widget "submissivetext">>
 | <span class="sub">Submissive</span>
<</widget>>

<<widget "gdef">> |
<span class="def">+ Defiance</span>
<</widget>>

<<widget "ggdef">> |
<span class="def">+ + Defiance</span>
<</widget>>

<<widget "gggdef">> |
<span class="def">+ + + Defiance</span>
<</widget>>

<<widget "ldef">> |
<span class="sub">- Defiance</span>
<</widget>>

<<widget "lldef">> |
<span class="sub">- - Defiance</span>
<</widget>>

<<widget "llldef">> |
<span class="sub">- - - Defiance</span>
<</widget>>

<<widget "month">>
<<set _month to $month[0].toUpperCase() + $month.substring(1)>>
<<if $args[0]>>
	<<set _month to _month.slice(0,3)>>
<</if>>
<<print _month>>
<</widget>>

<<widget "monthday">>
<<switch $monthday>>
	<<case 1 21 31>>st
	<<case 2 22>>nd
	<<case 3 23>>rd
	<<default>>th
<</switch>>
<</widget>>

<<widget "openinghours">>
A sign reads "Opening hours: <<ampm 8 00>> - <<ampm 21 00>>"
<br>
<</widget>>

<<widget "exposedupper">><<silently>>
<<if $worn.over_upper.exposed is 0>>
	<<set _text_output to $worn.over_upper.name>>
<<elseif $worn.upper.exposed is 0>>
	<<set _text_output to $worn.upper.name>>
<<elseif $worn.under_upper.exposed is 0>>
	<<set _text_output to $worn.under_upper.name>>
<<else>>
	<<breasts>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "exposedlower">><<silently>>
<<if $worn.over_lower.exposed is 0>>
	<<set _text_output to $worn.over_lower.name>>
<<elseif $worn.lower.exposed is 0>>
	<<set _text_output to $worn.lower.name>>
<<elseif $worn.under_lower.exposed is 0>>
	<<set _text_output to $worn.under_lower.name>>
<<else>>
	<<genitals>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "groin">><<silently>>
<<genitals>>
<<if !$worn.lower.type.includes("naked") and $worn.lower.skirt isnot 1>>
<<set _text_output to _text_output + " through your " + $worn.lower.name>>
<<elseif !$worn.under_lower.type.includes("naked")>>
<<set _text_output to _text_output + " through your " + $worn.under_lower.name>>
<<else>>
<<set _text_output to _text_output>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "crotch">><<silently>>
<<if !$worn.over_lower.type.includes("naked")>>
	<<set _text_output to $worn.over_lower.name>>
<<elseif !$worn.lower.type.includes("naked")>>
	<<set _text_output to $worn.lower.name>>
<<elseif !$worn.under_lower.type.includes("naked")>>
	<<set _text_output to $worn.under_lower.name>>
<<else>>
	<<genitals>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "undies">><<silently>>
<<if !$worn.under_lower.type.includes("naked")>>
	<<set _text_output to $worn.under_lower.name>>
<<elseif !$worn.genitals.type.includes("naked")>>
	<<set _text_output to $worn.genitals.name>>
<<else>>
	<<genitals>>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "bottoms">><<silently>>
<<outfitChecks>>
<<set _text_output to (_middleOutfit ? $worn.upper.name : $worn.lower.name)>>
<</silently>>_text_output<</widget>>

<<widget "underbottoms">><<silently>>
<<outfitChecks>>
<<set _text_output to (_underOutfit ? $worn.under_upper.name : $worn.under_lower.name)>>
<</silently>>_text_output<</widget>>

<<widget "allTops">>
	<<if $worn.over_upper.name isnot "naked">>
		$worn.over_upper.name
	<</if>>
	<<if $worn.upper.name isnot "naked">>
		<<if $worn.over_upper.name isnot "naked">>
			and
		<</if>>
		$worn.upper.name
	<</if>>
<</widget>>

<<widget "allBottoms">>
	<<if $worn.over_lower.name isnot "naked">>
		$worn.over_lower.name
	<</if>>
	<<if $worn.lower.name isnot "naked">>
		<<if $worn.over_lower.name isnot "naked">>
			and
		<</if>>
		$worn.lower.name
	<</if>>
<</widget>>

<<widget "allTopsUnderwear">>
	<<set _tops to []>>
	<<if $worn.over_upper.name isnot "naked">>
		<<set _tops.push($worn.over_upper.name)>>
	<</if>>
	<<if $worn.upper.name isnot "naked">>
		<<set _tops.push($worn.upper.name)>>
	<</if>>
	<<if $worn.under_upper.name isnot "naked">>
		<<set _tops.push($worn.under_upper.name)>>
	<</if>>
	<<if _tops.length is 1>>_tops[0]<</if>>
	<<if _tops.length is 2>>_tops[0] and _tops[1]<</if>>
	<<if _tops.length is 3>>_tops[0], _tops[1] and _tops[2]<</if>>
<</widget>>

<<widget "allBottomsUnderwear">>
	<<set _bottoms to []>>
	<<if $worn.over_lower.name isnot "naked">>
		<<set _bottoms.push($worn.over_lower.name)>>
	<</if>>
	<<if $worn.lower.name isnot "naked">>
		<<set _bottoms.push($worn.lower.name)>>
	<</if>>
	<<if $worn.under_lower.name isnot "naked">>
		<<set _bottoms.push($worn.under_lower.name)>>
	<</if>>
	<<if _bottoms.length is 1>>_bottoms[0]<</if>>
	<<if _bottoms.length is 2>>_bottoms[0] and _bottoms[1]<</if>>
	<<if _bottoms.length is 3>>_bottoms[0], _bottoms[1] and _bottoms[2]<</if>>
<</widget>>

<<widget "top">><<silently>>
<<if !$worn.upper.type.includes("naked")>>
	<<set _text_output to $worn.upper.name>>
<<elseif !$worn.under_upper.type.includes("naked")>>
	<<set _text_output to $worn.under_upper.name>>
<<else>>
	<<set _text_output to "top">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "topaside">><<silently>>
<<if $worn.upper.exposed lte 1>>
	<<set _text_output to $worn.upper.name>>
<<elseif $worn.under_upper.exposed is 0>>
	<<set _text_output to $worn.under_upper.name>>
<<else>>
	<<set _text_output to "top">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "breastsaside">><<silently>>
<<if $worn.upper.exposed lte 1>>
	<<set _text_output to $worn.upper.name>>
<<elseif $worn.under_upper.exposed is 0>>
	<<set _text_output to $worn.under_upper.name>>
<<else>>
	<<breasts>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "outfit">><<silently>>
<<outfitChecks>>
<<if _middleOutfit>>
	<<set _text_output to $worn.upper.name>>
	<<set $stripset to 1>>
<<else>>
	<<set _text_output to $worn.upper.name + " and " + $worn.lower.name>>
	<<set $stripset to 0>>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "nudity">><<silently>><<exposure>>
<<genitals>>
<<set _genitals to _text_output>>
<<breasts>>
<<set _breasts to _text_output>>
<<if $worn.under_lower.type.includes("naked") and $worn.lower.type.includes("naked")>>
	<<if !$worn.upper.type.includes("naked")>>
	<<set _text_output to "<span class=\"lewd\">exposed " + _genitals + "</span>. Your covered chest makes your bare lower half feel more conspicuous">>
	<<elseif !$worn.under_upper.type.includes("naked")>>
		<<undertop>>
		<<set _undertop to _text_output>>
	<<set _text_output to "<span class=\"lewd\">exposed " + _genitals + " and " + _undertop + "</span>. Your somewhat covered chest makes your bare lower half feel more conspicuous">>
	<<else>>
	<<set _text_output to "<span class=\"lewd\">exposed</span> ">>
		<<if $breastsize gte 3>>
			<<if $player.gender is "m">>
			<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + "</span>">>
			<<else>>
			<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + "</span>">>
			<</if>>
		<<else>>
			<<if $player.gender is "m">>
				<<if $player.gender_appearance is "f">>
					<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + ", made salacious by your feminine demeanour</span>">>
				<<else>>
					<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + "</span>">>
				<</if>>
			<<else>>
			<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + "</span>">>
			<</if>>
		<</if>>
	<</if>>
<<elseif $worn.upper.type.includes("naked") and $player.gender_appearance is "f">>
	<<outfitChecks>>
	<<if $worn.under_upper.type.includes("naked")>>
		<<set _text_output to "<span class=\"lewd\">exposed " + _breasts + "</span>">>
		<<if $worn.lower.type.includes("naked") and _underOutfit is false>>
			<<set _text_output to _text_output + ". Only your " + $worn.under_lower.name + " give you a shred of decency">>
		<</if>>
	<<else>>
		<<undertop>>
		<<set _undertop to _text_output>>
		<<if $worn.lower.type.includes("naked") and _underOutfit is false>>
			<<undies>>
			<<set _undies to _text_output>>
			<<set _text_output to "<span class=\"lewd\">exposed " + _undies + " and " + _undertop + "</span>">>
		<<else>>
			<<set _text_output to "<span class=\"lewd\">exposed " + _undertop + "</span>">>
		<</if>>
	<</if>>
<<elseif $worn.lower.type.includes("naked")>>
	<<set _text_output to "<span class=\"lewd\">exposed " + $worn.under_lower.name + "</span>">>
<<else>>
	<<set _text_output to "<span class=\"lewd\">lewd outfit</span>">>
	<<if $worn.lower.type.includes("naked") and $worn.upper.type.includes("naked") and $worn.under_upper.type.includes("naked")>>
		<<set _text_output to _text_output + ". Only your " + $worn.under_lower.name + " give you a shred of decency">>
	<</if>>
<</if>>
<<if $leftarm is "bound" and $rightarm is "bound" and $position isnot "wall">>
	<<set _text_output to _text_output + ". With your arms bound, you can't even cover yourself, leaving you feeling utterly helpless">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "stripobject">>
<<set $worn.upper.integrity -= $stripintegrity>><<set $worn.lower.integrity -= $stripintegrity>><<set $worn.under_lower.integrity -= $stripintegrity>>

<<if !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
<span class="lewd">Your clothing snags on a $stripobject, tearing it from your body and leaving you totally bare!</span>

<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0>>
<span class="lewd">Your <<outfit>> <<if $stripset is 1>>snags on a $stripobject, and is torn clean off your body.<<else>>snag on a $stripobject, and are torn from your body.<</if>></span>

<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
<span class="lewd">Your $worn.upper.name and $worn.under_lower.name snag on a $stripobject and are torn from your body.</span>

<<elseif !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
<span class="lewd">Your $worn.lower.name and $worn.under_lower.name snag on a $stripobject and are torn from your body.</span>

<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0>>
<span class="lewd">Your $worn.upper.name snags on a $stripobject and is torn from your body.</span>

<<elseif !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0>>
<span class="lewd">Your $worn.lower.name <<if $worn.lower.plural is 1>>snag on a $stripobject and are torn from your body.<<else>>snags on a $stripobject and is torn from your body.<</if>></span>

<<elseif !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
<span class="lewd">Your $worn.under_lower.name <<if $worn.under_lower.plural is 1>>snag on a $stripobject and are torn from your body.<<else>>snags on a $stripobject and is torn from your body.<</if>></span>

<</if>>

<<if $worn.upper.name isnot "naked">>
	<<if $worn.upper.integrity lte 0>><<upperruined>><<clothesruinstat>><<set $upperoff to 0>>
	<</if>>
<</if>>
<<if $worn.lower.name isnot "naked">>
	<<if $worn.lower.integrity lte 0>><<lowerruined>><<clothesruinstat>><<set $loweroff to 0>>
	<</if>>
<</if>>
<<if $worn.under_lower.name isnot "naked">>
	<<if $worn.under_lower.integrity lte 0>>
		<<set $worn.under_lower.type.push("broken")>>
		<<underlowerruined>><<clothesruinstat>><<set $underloweroff to 0>>
	<</if>>
<</if>>
<<if $worn.under_upper.name isnot "naked">>
	<<if $worn.under_upper.integrity lte 0>><<underupperruined>><<clothesruinstat>><<set $underupperoff to 0>>
	<</if>>
<</if>>

<<exposure>>

<<if $exposed gte 1>>
You can't help but be conscious of your <<nudity>>.
<</if>>

<</widget>>

<<widget "seductiontext">><<silently>>
<<if $seductionskill gte 0 and $seductionskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $seductionskill gte 200 and $seductionskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $seductionskill gte 400 and $seductionskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $seductionskill gte 600 and $seductionskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $seductionskill gte 800 and $seductionskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $seductionskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "oraltext">><<silently>>
<<if $oralskill gte 0 and $oralskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $oralskill gte 200 and $oralskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $oralskill gte 400 and $oralskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $oralskill gte 600 and $oralskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $oralskill gte 800 and $oralskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $oralskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "vaginaltext">><<silently>>
<<if $vaginalskill gte 0 and $vaginalskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $vaginalskill gte 200 and $vaginalskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $vaginalskill gte 400 and $vaginalskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $vaginalskill gte 600 and $vaginalskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $vaginalskill gte 800 and $vaginalskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $vaginalskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "peniletext">><<silently>>
<<if $penileskill gte 0 and $penileskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $penileskill gte 200 and $penileskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $penileskill gte 400 and $penileskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $penileskill gte 600 and $penileskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $penileskill gte 800 and $penileskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $penileskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "analtext">><<silently>>
<<if $analskill gte 0 and $analskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $analskill gte 200 and $analskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $analskill gte 400 and $analskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $analskill gte 600 and $analskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $analskill gte 800 and $analskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $analskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "handtext">><<silently>>
<<if $handskill gte 0 and $handskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $handskill gte 200 and $handskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $handskill gte 400 and $handskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $handskill gte 600 and $handskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $handskill gte 800 and $handskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $handskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "feettext">><<silently>>
<<if $feetskill gte 0 and $feetskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $feetskill gte 200 and $feetskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $feetskill gte 400 and $feetskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $feetskill gte 600 and $feetskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $feetskill gte 800 and $feetskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $feetskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "bottomtext">><<silently>>
<<if $bottomskill gte 0 and $bottomskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $bottomskill gte 200 and $bottomskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $bottomskill gte 400 and $bottomskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $bottomskill gte 600 and $bottomskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $bottomskill gte 800 and $bottomskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $bottomskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "thightext">><<silently>>
<<if $thighskill gte 0 and $thighskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $thighskill gte 200 and $thighskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $thighskill gte 400 and $thighskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $thighskill gte 600 and $thighskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $thighskill gte 800 and $thighskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $thighskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "chesttext">><<silently>>
<<if $chestskill gte 0 and $chestskill lt 200>><<set _text_output to "<span class=\"pink\">awkwardly</span>">>
<<elseif $chestskill gte 200 and $chestskill lt 400>><<set _text_output to "<span class=\"purple\">cautiously</span>">>
<<elseif $chestskill gte 400 and $chestskill lt 600>><<set _text_output to "<span class=\"blue\">rhythmically</span>">>
<<elseif $chestskill gte 600 and $chestskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $chestskill gte 800 and $chestskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $chestskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "swimmingtext">><<silently>>
<<if $swimmingskill gte 0 and $swimmingskill lt 200>><<set _text_output to "<span class=\"pink\">haphazardly</span>">>
<<elseif $swimmingskill gte 200 and $swimmingskill lt 400>><<set _text_output to "<span class=\"purple\">awkwardly</span>">>
<<elseif $swimmingskill gte 400 and $swimmingskill lt 600>><<set _text_output to "<span class=\"blue\">adequately</span>">>
<<elseif $swimmingskill gte 600 and $swimmingskill lt 800>><<set _text_output to "<span class=\"lblue\">smoothly</span>">>
<<elseif $swimmingskill gte 800 and $swimmingskill lt 1000>><<set _text_output to "<span class=\"teal\">skilfully</span>">>
<<elseif $swimmingskill gte 1000>><<set _text_output to "<span class=\"green\">expertly</span>">><</if>>
<</silently>>_text_output<</widget>>

<<widget "tendingtext">>
<<if $tending gte 0 and $tending lt 200>><span class="pink">awkwardly</span>
<<elseif $tending gte 200 and $tending lt 400>><span class="purple">cautiously</span>
<<elseif $tending gte 400 and $tending lt 600>><span class="blue">rhythmically</span>
<<elseif $tending gte 600 and $tending lt 800>><span class="lblue">smoothly</span>
<<elseif $tending gte 800 and $tending lt 1000>><span class="teal">skilfully</span>
<<elseif $tending gte 1000>><span class="green">expertly</span><</if>>
<</widget>>

<<widget "nervously">><<silently>>
<<if $exhibitionism lte 15>>
<<set _text_output to "nervously">>
<<elseif $exhibitionism lte 35>>
<<set _text_output to "timidly">>
<<elseif $exhibitionism lte 55>>
<<set _text_output to "shyly">>
<<elseif $exhibitionism lte 75>>
<<set _text_output to "confidently">>
<<elseif $exhibitionism lte 95>>
<<set _text_output to "eagerly">>
<<else>>
<<set _text_output to "breathlessly">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "schoolday">>
<<if $schoolterm is 1 and $weekday is 1>>
	You have school tomorrow.
	<br>
<<elseif $schoolterm is 1 and $weekday isnot 1 and $weekday isnot 7>>
	It's a school day.
	<br>
<<elseif $schoolterm is 0 and $weekday is 1>>
	There's no school tomorrow.
	<br>
<</if>>
<</widget>>

<<widget "schoolterm">>

<<if $month is "january">>
	<<if $schoolterm is 1>>
	School finishes on the first Monday of April.
	<<else>>
	School starts on the first Monday of January.
	<</if>>
<<elseif $month is "february">>
School finishes on the first Monday of April.
<<elseif $month is "march">>
School finishes on the first Monday of April.
<<elseif $month is "april">>
	<<if $schoolterm is 1>>
	School finishes on the first Monday of April.
	<<else>>
	School starts on the first Monday of May.
	<</if>>
<<elseif $month is "may">>
	<<if $schoolterm is 1>>
	School finishes on the first Monday of July.
	<<else>>
	School starts on the first Monday of May.
	<</if>>
<<elseif $month is "june">>
School finishes on the first Monday of July.
<<elseif $month is "july">>
	<<if $schoolterm is 1>>
	School finishes on the first Monday of July.
	<<else>>
	School starts on the first Monday of September.
	<</if>>
<<elseif $month is "august">>
School starts on the first Monday of September.
<<elseif $month is "september">>
	<<if $schoolterm is 1>>
	School finishes on the first Monday of December.
	<<else>>
	School starts on the first Monday of September.
	<</if>>
<<elseif $month is "october">>
School finishes on the first Monday of December.
<<elseif $month is "november">>
School finishes on the first Monday of December.
<<elseif $month is "december">>
	<<if $schoolterm is 1>>
	School finishes on the first Monday of December.
	<<else>>
	School starts on the first Monday of January.
	<</if>>
<</if>>

<</widget>>

<<widget "sir">><<silently>>
<<if $pronoun is "m">>
	<<set _text_output to "sir">>
<<else>>
	<<set _text_output to "miss">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "lewdness">><<silently>>
<<exposure>>
<<genitals>>
<<set _genitals to _text_output>>
<<undertop>>
<<set _undertop to _text_output>>
<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	<<set _text_output to "<span class=\"lewd\">exposed _genitals</span>">>
<<elseif $worn.under_lower.exposed lte 0 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	<<set _text_output to "<span class=\"lewd\">exposed $worn.under_lower.name</span>">>
<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1 and $player.gender_appearance is "m" and $player.gender is "m">>
	<<set _text_output to "<span class=\"lewd\">lewdness</span>">>
<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1>>
	<<set _text_output to "<span class=\"lewd\">exposed _undertop</span>">>
<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0 and $player.gender_appearance is "m" and $player.gender is "m">>
	<<set _text_output to "<span class=\"lewd\">exposed $worn.under_lower.name</span>">>
<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0>>
	<<set _text_output to "<span class=\"lewd\">exposed _undertop and $worn.under_lower.name</span>">>
<<elseif $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $player.gender_appearance is "m" and $player.gender is "m">>
	<<set _text_output to "<span class=\"lewd\">exposed _genitals</span>">>
<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed gte 1>>
	<<set _text_output to "<span class=\"lewd\">exposed _undertop and _genitals</span>">>
<<else>>
	<<set _text_output to "<span class=\"lewd\">lewdness</span>">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "flaunting">>
<<exposure>>/*Makes sure your clothing state is up to date*/
<<if $uncomfortable.nude is false>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Dark tendrils threaten to peak your exposed body as
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Dark tendrils caress your exposed body as
			<<else>>
			Feeling watched by countless eyes
			<</if>>
		<<elseif $stress gte (($stressmax / 5) * 1)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Afraid you'll climax on the spot
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Feeling watched by countless eyes
			<<else>>
			Feeling threatened yet excited
			<</if>>
		<<else>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			A sick part of you hopes your audience help themselves to your body as
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Feeling vulnerable and surrounded
			<<else>>
			Hoping people like what they see
			<</if>>
		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Feeling like a piece of meat
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Exposed and vulnerable
			<<else>>
			You hope exposing yourself will save you from hurt as
			<</if>>
		<<elseif $stress gte (($stressmax / 5) * 1)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Your body trembles as
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Excited yet afraid
			<<else>>
			Yearning for attention,
			<</if>>
		<<else>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Shivering with arousal
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Heart throbbing
			<<else>>
			You hope people like what they see as
			<</if>>
		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Tense and aroused,
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Tense but exhilarated,
			<<else>>
			Enjoying the moment,
			<</if>>
		<<elseif $stress gte (($stressmax / 5) * 1)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Feeling naughty,
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			You enjoy the eyes on you as
			<<else>>
			You enjoy the adrenaline rush as
			<</if>>
		<<else>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Thrilled to be so exposed
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Shivering in delight,
			<<else>>
			Proud and free,
			<</if>>
		<</if>>
	<</if>>
<<else>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Dark tendrils threaten to peak your exposed body as
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Dark tendrils caress your exposed body as
			<<else>>
			Feeling watched by countless eyes
			<</if>>
		<<elseif $stress gte (($stressmax / 5) * 1)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Afraid you'll climax on the spot
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Feeling watched by countless eyes
			<<else>>
			Feeling threatened and embarrassed
			<</if>>
		<<else>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			A sick part of you hopes your audience help themselves to your body as
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Feeling vulnerable and surrounded
			<<else>>
			Hoping people like what they see
			<</if>>
		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Feeling like a piece of meat
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Exposed and vulnerable
			<<else>>
			You hope exposing yourself will save you from hurt as
			<</if>>
		<<elseif $stress gte (($stressmax / 5) * 1)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Your body trembles as
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Embarrassed and afraid
			<<else>>
			Yearning for attention,
			<</if>>
		<<else>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Shivering with arousal
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Heart throbbing
			<<else>>
			You hope people like what they see as
			<</if>>
		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Tense and aroused,
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Tense but exhilarated,
			<<else>>
			Enjoying the moment,
			<</if>>
		<<elseif $stress gte (($stressmax / 5) * 1)>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Feeling naughty,
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			You enjoy the eyes on you as
			<<else>>
			You enjoy the adrenaline rush as
			<</if>>
		<<else>>
			<<if $arousal gte (($arousalmax / 5) * 4)>>
			Thrilled to be so exposed
			<<elseif $arousal gte (($arousalmax / 5) * 1)>>
			Shivering in delight,
			<<else>>
			Blushing,
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "embarrassment">>

<<if $arousal gte (($arousalmax / 10) * 9)>>
	Embarrassment dominates your mind and threatens to send you over the edge.
<<elseif $arousal gte (($arousalmax / 10) * 8)>>
	Lewd shivers ripple through your body despite your embarrassment.
<<elseif $arousal gte (($arousalmax / 10) * 7)>>
	The embarrassment leaves you lightheaded.
<<elseif $arousal gte (($arousalmax / 10) * 6)>>
	You're so embarrassed. Your breath catches in your throat.
<<elseif $arousal gte (($arousalmax / 10) * 5)>>
	You're so embarrassed. Your heart beats faster.
<<elseif $arousal gte (($arousalmax / 10) * 4)>>
	You feel a warmth build despite the embarrassment.
<<elseif $arousal gte (($arousalmax / 10) * 3)>>
	You're so embarrassed. Your heart skips a beat.
<<elseif $arousal gte (($arousalmax / 10) * 2)>>
	You shiver with embarrassment.
<<elseif $arousal gte (($arousalmax / 10) * 1)>>
	You're so embarrassed. Blood rushes to your face.
<<else>>
	Your face reddens with embarrassment.
<</if>>

<</widget>>

<<widget "covered">>
<<exposure>>

<<if $leftarm is "bound" and $rightarm is "bound" and $exposed gte 1>>
	<<if $exposed gte 2 and $exhibitionism lt 95 or $exposed gte 2 and $uncomfortable.nude is true>>
	With your arms bound, there's little you can do to shield your <<lewdness>> from prying eyes.

	<<elseif $exposed gte 2>>
	With your arms bound, there's little you can do to shield your <<lewdness>> from prying eyes. You quiver with excitement.

	<<elseif $exhibitionism lt 55>>
	With your arms bound, there's little you can do to shield your <<lewdness>> from prying eyes.

	<<elseif $uncomfortable.nude is true>>
	With your arms bound, there's little you can do to shield your <<lewdness>> from prying eyes.

	<<else>>
	With your arms bound, there's little you can do to shield your <<lewdness>> from prying eyes. You quiver with excitement.

	<</if>>
	<<embarrassment>>
<<elseif $exposed gte 2 and $exhibitionism lt 95 or $exposed gte 2 and $uncomfortable.nude is true>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	You cover your <span class="lewd">exposed <<genitals>></span> with your hands.
	<<elseif $worn.under_lower.exposed lte 0 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	You cover your <span class="lewd">exposed $worn.under_lower.name</span> with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1 and $player.gender_appearance is "m" and $player.gender is "m">>
	You cover your chest with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			You cover your <span class="lewd">exposed <<breasts>></span> with your hands.
		<<else>>
			You cover your <span class="lewd">$worn.under_upper.name</span> with your hands.
		<</if>>

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0 and $player.gender_appearance is "m" and $player.gender is "m">>
	You cover your <span class="lewd">exposed $worn.under_lower.name</span> with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0>>
		<<if $worn.under_upper.exposed gte 1>>
			You cover your <span class="lewd">exposed <<breasts>> and $worn.under_lower.name</span> with your hands.
		<<else>>
			You cover your <span class="lewd">exposed $worn.under_upper.name and $worn.under_lower.name</span> with your hands.
		<</if>>

	<<elseif $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $player.gender_appearance is "m" and $player.gender is "m">>
	You cover your <span class="lewd">exposed <<genitals>></span> with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed gte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			You cover your <span class="lewd">exposed <<breasts>> and <<genitals>></span> with your hands.
		<<else>>
			You cover your <span class="lewd">exposed $worn.under_upper.name and <<genitals>></span> with your hands.
		<</if>>

	<<else>>
	You cover the <span class="lewd">lewder</span> parts of your outfit with your hands.

	<</if>>
	<<embarrassment>>
<<elseif $exposed gte 2>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	Your <span class="lewd">exposed <<genitals>></span> makes you quiver with excitement.
	<<elseif $worn.under_lower.exposed lte 0 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	Your <span class="lewd">exposed $worn.under_lower.name</span> <<if $worn.under_lower.plural is 1>>make<<else>>makes<</if>> you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1 and $player.gender_appearance is "m" and $player.gender is "m">>
	Your exposed chest makes you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			Your <span class="lewd">exposed <<breasts>></span> <<if $breastsize is 0>>makes<<else>>make<</if>> you quiver with excitement.
		<<else>>
			Your <span class="lewd">exposed $worn.under_upper.name</span> <<if $breastsize is 0>>makes<<else>>make<</if>> you quiver with excitement.
		<</if>>

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0 and $player.gender_appearance is "m" and $player.gender is "m">>
	Your <span class="lewd">exposed $worn.under_lower.name</span> <<if $worn.under_lower.plural is 1>>make<<else>>makes<</if>> you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0>>
		<<if $worn.under_upper.exposed gte 1>>
			Your <span class="lewd">exposed <<breasts>> and $worn.under_lower.name</span> make you quiver with excitement.
		<<else>>
			Your <span class="lewd">exposed $worn.under_upper.name and $worn.under_lower.name</span> make you quiver with excitement.
		<</if>>

	<<elseif $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $player.gender_appearance is "m" and $player.gender is "m">>
	Your <span class="lewd">exposed <<genitals>></span> makes you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed gte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			Your <span class="lewd">exposed <<breasts>> and <<genitals>></span> make you quiver with excitement.
		<<else>>
			Your <span class="lewd">exposed $worn.under_upper.name and <<genitals>></span> make you quiver with excitement.
		<</if>>

	<<else>>
	The <span class="lewd">lewder</span> parts of your outfit make you quiver with excitement.

	<</if>>
	<<embarrassment>>
<<elseif $exposed gte 1 and $exhibitionism lt 55 or $exposed gte 1 and $uncomfortable.nude is true>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	You cover your <span class="lewd">exposed <<genitals>></span> with your hands.
	<<elseif $worn.under_lower.exposed lte 0 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	You cover your <span class="lewd">exposed $worn.under_lower.name</span> with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1 and $player.gender_appearance is "m" and $player.gender is "m">>
	You cover your chest with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			You cover your <span class="lewd">exposed <<breasts>></span> with your hands.
		<<else>>
			You cover your <span class="lewd">exposed $worn.under_upper.name</span> with your hands.
		<</if>>

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0 and $player.gender_appearance is "m" and $player.gender is "m">>
	You cover your <span class="lewd">exposed $worn.under_lower.name</span> with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0>>
		<<if $worn.under_upper.exposed gte 1>>
			You cover your <span class="lewd">exposed <<breasts>> and $worn.under_lower.name</span> with your hands.
		<<else>>
			You cover your <span class="lewd">exposed $worn.under_upper.name and $worn.under_lower.name</span> with your hands.
		<</if>>

	<<elseif $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $player.gender_appearance is "m" and $player.gender is "m">>
	You cover your <span class="lewd">exposed <<genitals>></span> with your hands.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed gte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			You cover your <span class="lewd">exposed <<breasts>> and <<genitals>></span> with your hands.
		<<else>>
			You cover your <span class="lewd">exposed $worn.under_upper.name and <<genitals>></span> with your hands.
		<</if>>

	<<else>>
	You cover the <span class="lewd">lewder</span> parts of your outfit with your hands.

	<</if>>
	<<embarrassment>>
<<elseif $exposed gte 1>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	Your <span class="lewd">exposed <<genitals>></span> makes you quiver with excitement.
	<<elseif $worn.under_lower.exposed lte 0 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
	Your <span class="lewd">exposed $worn.under_lower.name</span> <<if $worn.under_lower.plural is 1>>make<<else>>makes<</if>> you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1 and $player.gender_appearance is "m" and $player.gender is "m">>
	Your exposed chest makes you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			Your <span class="lewd">exposed <<breasts>></span> <<if $breastsize is 0>>makes<<else>>make<</if>> you quiver with excitement.
		<<else>>
			Your <span class="lewd">exposed $worn.under_upper.name</span> <<if $breastsize is 0>>makes<<else>>make<</if>> you quiver with excitement.
		<</if>>

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0 and $player.gender_appearance is "m" and $player.gender is "m">>
	Your <span class="lewd">exposed $worn.under_lower.name</span> <<if $worn.under_lower.plural is 1>>make<<else>>makes<</if>> you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0>>
		<<if $worn.under_upper.exposed gte 1>>
			Your <span class="lewd">exposed <<breasts>> and $worn.under_lower.name</span> make you quiver with excitement.
		<<else>>
			Your <span class="lewd">exposed $worn.under_upper.name and $worn.under_lower.name</span> make you quiver with excitement.
		<</if>>

	<<elseif $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $player.gender_appearance is "m" and $player.gender is "m">>
	Your <span class="lewd">exposed <<genitals>></span> makes you quiver with excitement.

	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed gte 1>>
		<<if $worn.under_upper.exposed gte 1>>
			Your <span class="lewd">exposed <<breasts>> and <<genitals>></span> make you quiver with excitement.
		<<else>>
			Your <span class="lewd">exposed $worn.under_upper.name and <<genitals>></span> make you quiver with excitement.
		<</if>>

	<<else>>
	The <span class="lewd">lewder</span> parts of your outfit make you quiver with excitement.

	<</if>>
	<<embarrassment>>
<</if>>
<</widget>>

<<widget "passagestrip">>

<<if $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_upper.exposed gte 1 and $worn.under_lower.exposed gte 1>>
<<else>>
	<<outfitChecks>>
	<<set _clothing_strip_sequence to 0>>
	<<if $worn.upper.exposed lte 1>>
		<<if _middleOutfit is true>>
			<<flaunting>> you shuffle out of your $worn.upper.name, exposing your <<undertop>> and <<undies>>.
		<<else>>
			<<flaunting>> you tug off your $worn.upper.name, exposing your <<undertop>>.
		<</if>>
	<<set _clothing_strip_sequence += 1>><<upperstrip>><<exposure>>
	<</if>>
	<<if $worn.lower.exposed lte 1>>
		<<if _clothing_strip_sequence is 0>>
			<<flaunting>> you tug off your $worn.lower.name, exposing your <<undies>>.
		<<else>>
			Your $worn.lower.name comes next, exposing your <<undies>>.
		<</if>>
	<<set _clothing_strip_sequence += 1>><<lowerstrip>><<exposure>>
	<</if>>
	<<if $worn.under_upper.exposed lte 0>>
		<<if _underOutfit is true>>
			<<if _clothing_strip_sequence is 0>>
				<<flaunting>> you shuffle out of your $worn.under_upper.name, revealing your <<breasts>> and <<genitals>>.
			<<elseif _clothing_strip_sequence is 1>>
				Your $worn.under_upper.name comes next, revealing your <<breasts>> and <<genitals>>.
			<<else>>
				Finally, you peel off your $worn.under_upper.name, revealing your <<breasts>> and <<genitals>>.
			<</if>>
		<<else>>
			<<if _clothing_strip_sequence is 0>>
				<<flaunting>> you tug off your $worn.under_upper.name, revealing your <<breasts>>.
			<<elseif _clothing_strip_sequence is 1>>
				You $worn.under_upper.name comes next, revealing your <<breasts>>.
			<<else>>
				<<if $worn.under_lower.exposed lte 0>>
					Your $worn.under_upper.name follows, revealing your <<breasts>>.
				<<else>>
					Finally, you peel off your $worn.under_upper.name, revealing your <<breasts>>.
				<</if>>
			<</if>>
		<</if>>
	<<set _clothing_strip_sequence += 1>><<underupperstrip>><<exposure>>
	<</if>>
	<<if $worn.under_lower.exposed lte 0>>
		<<if _clothing_strip_sequence is 0>>
			<<flaunting>> you pull down your $worn.under_lower.name, displaying your <<genitals>>.
		<<elseif _clothing_strip_sequence is 1>>
			Your $worn.under_lower.name come next, displaying your <<genitals>>.
		<<else>>
			Finally, you peel off your $worn.under_lower.name, displaying your <<genitals>>.
		<</if>>
	<<set _clothing_strip_sequence += 1>><<underlowerstrip>><<exposure>>
	<</if>>
<</if>>
<<if !$worn.legs.type.includes("naked")>>
	You're still wearing your $worn.legs.name, but this somehow makes you feel even more exposed.
<<else>>
<</if>>

<</widget>>

<<widget "strippedtext">>
<<if $control gte (($controlmax / 5) * 4)>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 3)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 2)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<</if>>
<<elseif $control gte (($controlmax / 5) * 3)>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 3)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 2)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<</if>>
<<elseif $control gte (($controlmax / 5) * 2)>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 3)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 2)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<</if>>
<<elseif $control gte (($controlmax / 5) * 1)>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 3)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 2)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<</if>>
<<else>>
	<<if $trauma gte (($traumamax / 5) * 4)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 3)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 2)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<elseif $trauma gte (($traumamax / 5) * 1)>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<<else>>
		<<if $stress gte (($stressmax / 5) * 4)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<elseif $stress gte (($stressmax / 5) * 3)>>

		<<else>>

		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "prostate">><<silently>>
<<if $player.vaginaExist>>
	<<set _text_output to "womb">>
<<else>>
	<<set _text_output to "prostate">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "bitch">><<silently>>
<<if $player.gender_appearance is "m">>
	<<set _text_output to "bitch">>
<<else>>
	<<set _text_output to "bitch">>
<</if>>
<</silently>>_text_output<</widget>>

<<widget "tearful">>
<<if $trauma gte $traumamax>>
	Eyes glazed and empty,
<<elseif $trauma gte ($traumamax / 5) * 4>>
	<<if $stress gte ($stressmax / 5) * 4>>
		<<if $arousal gte ($arousalmax /5) * 4>>
			<<if $pain gte 100>>
				Tendrils of darkness whip and writhe against your skin as
			<<elseif $pain gte 40>>
				Tendrils of darkness writhe against your skin as
			<<else>>
				A strange mist closes around you and probes your most sensitive spots as
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				A mass of darkness follows you, prodding and spanking your behind as
			<<elseif $pain gte 40>>
				You hear phantom voices mocking you as
			<<else>>
				The shadows seem to close in on you as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Tendrils of darkness whip and cut at your skin as
			<<elseif $pain gte 40>>
				Tendrils of darkness poke you as
			<<else>>
				You think you see eyes watching from the shadows as
			<</if>>
		<</if>>
	<<elseif $stress gte $stressmax / 5>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				Your tortured body and mind yearn for more punishment as
			<<elseif $pain gte 40>>
				Fantasies of violent sex intrude as
			<<else>>
				Your tortured mind yearns for more punishment as
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Surprised that nothing is trying to hurt you,
			<<elseif $pain gte 40>>
				Surprised that nothing is trying to rape you,
			<<else>>
				Surprised that nothing is trying to fuck you,
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Feeling deserving of the pain you're in,
			<<elseif $pain gte 40>>
				You imagine figures stalking you as
			<<else>>
				You feel like you're being watched as
			<</if>>
		<</if>>
	<<else>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				Thoughts about being sexually tortured intrude as
			<<elseif $pain gte 40>>
				Thoughts about being restrained and whipped intrude as
			<<else>>
				Thoughts about being a sex slave intrude as
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Thoughts about being violently raped intrude as
			<<elseif $pain gte 40>>
				Thoughts about being brutally raped intrude as
			<<else>>
				Thoughts about being raped intrude as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Feeling entirely deserving of the pain you're in,
			<<elseif $pain gte 40>>
				Though mentally and physically tormented,
			<<else>>
				You feel utterly worthless as
			<</if>>
		<</if>>
	<</if>>
<<elseif $trauma gte ($traumamax / 5) * 2>>
	<<if $stress gte ($stressmax / 5) * 4>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				A part of you savours the pain you're in as
			<<elseif $pain gte 40>>
				Tearful and worried that you're losing your mind,
			<<else>>
				Though worried that you're losing your mind,
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Though afraid something will attack you,
			<<elseif $pain gte 40>>
				Though afraid something will jump you,
			<<else>>
				Feeling on the verge of panic,
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Though hurt and vulnerable,
			<<elseif $pain gte 40>>
				You feel self-conscious about the tears on your face as
			<<else>>
				You jump at every unexpected movement as
			<</if>>
		<</if>>
	<<elseif $stress gte $stressmax / 5>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				Hurt and ashamed,
			<<elseif $pain gte 40>>
				Despite your pain, a primal yearning swells within as
			<<else>>
				Shameful thoughts intrude as
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				You hope no one tries to assault you as
			<<elseif $pain gte 40>>
				Though afraid you're being followed,
			<<else>>
				You fear that someone is stalking you as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				You feel fragile and vulnerable as
			<<elseif $pain gte 40>>
				You sob as
			<<else>>
				You try to keep it together as
			<</if>>
		<</if>>
	<<else>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				Feeling ashamed and in pain,
			<<elseif $pain gte 40>>
				Tears cover your ashamed face as
			<<else>>
				Ashamed of the feelings rising within you,
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Your body hurts yet tingles shamefully as
			<<elseif $pain gte 40>>
				You sob at the injustice of it all as
			<<else>>
				Your <<genitals 1>> involuntarily twitches as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Feeling lost and in pain,
			<<elseif $pain gte 40>>
				You try and fail to hold back your tears as
			<<else>>
				Shaken,
			<</if>>
		<</if>>
	<</if>>
<<else>>
	<<if $stress gte ($stressmax / 5) * 4>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				You're an emotional wreck as
			<<elseif $pain gte 40>>
				Feeling emotionally and physically tender,
			<<else>>
				Though afraid your body will betray you,
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Hurt and afraid,
			<<elseif $pain gte 40>>
				You struggle to cope with the myriad feelings assailing you as
			<<else>>
				You feel faint as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				You know you must look like a complete mess as
			<<elseif $pain gte 40>>
				You wonder what you did to deserve this as
			<<else>>
				Though at your wits' end,
			<</if>>
		<</if>>
	<<elseif $stress gte $stressmax / 5>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				You feel a primal yearning beneath your pain as
			<<elseif $pain gte 40>>
				Though humiliated by your body's signs of arousal,
			<<else>>
				Though embarrassed by your body's signs of arousal,
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Shaken and hurt,
			<<elseif $pain gte 40>>
				Your body tingles painfully as
			<<else>>
				You feel self-conscious about the lewd warmth within you as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Face covered in tears,
			<<elseif $pain gte 40>>
				Feeling battered, but still determined to make the best of things,
			<<else>>
				Still determined to make the best of things,
			<</if>>
		<</if>>
	<<else>>
		<<if $arousal gte ($arousalmax / 5) * 4>>
			<<if $pain gte 100>>
				Your tortured body trembles with arousal as
			<<elseif $pain gte 40>>
				Tears run down your flushed cheeks as
			<<else>>
				Your body trembles with arousal as
			<</if>>
		<<elseif $arousal gte $arousalmax / 5>>
			<<if $pain gte 100>>
				Your body hurts and tingles as
			<<elseif $pain gte 40>>
				Your body feels sensitive as
			<<else>>
				You feel horny as
			<</if>>
		<<else>>
			<<if $pain gte 100>>
				Your whole body hurts as
			<<elseif $pain gte 40>>
				You wipe away your tears as
			<<else>>
				You waste no time as
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "slithers">>
	<<set $rng to random(1, 100)>>
	<<if $rng gte 95>>
		slithers
	<<elseif $rng gte 90>>
		writhes
	<<elseif $rng gte 85>>
		wriggles
	<<elseif $rng gte 80>>
		wiggles
	<<elseif $rng gte 75>>
		crawls
	<<elseif $rng gte 70>>
		slides
	<<elseif $rng gte 65>>
		slinks
	<<elseif $rng gte 60>>
		glides
	<<elseif $rng gte 55>>
		slips
	<<elseif $rng gte 50>>
		squirms
	<<elseif $rng gte 45>>
		worms
	<<elseif $rng gte 40>>
		twists
	<<elseif $rng gte 35>>
		twitches
	<<elseif $rng gte 30>>
		shivers
	<<elseif $rng gte 25>>
		trembles
	<<elseif $rng gte 20>>
		jerks
	<<elseif $rng gte 15>>
		crawls
	<<elseif $rng gte 10>>
		flutters
	<<elseif $rng gte 5>>
		meanders
	<<elseif $rng gte 0>>
		slips
	<</if>>
<</widget>>

<<widget "wallet">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "wallet" : "purse")>>
<</silently>><<print _text_output>><</widget>>

<<widget "pullupall">>
<<outfitChecks>>
<<if _middleOutfit>>
	<<if _underOutfit>>
		You pull down your $worn.upper.name and $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<<elseif !$worn.under_upper.type.includes("naked")>>
		You pull down your $worn.upper.name and pull up your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<<else>>
		You pull down your $worn.upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<</if>>
<<elseif !$worn.upper.type.includes("naked")>>
	<<if _underOutfit>>
		You pull up your $worn.upper.name and pull down your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<<elseif !$worn.under_upper.type.includes("naked")>>
		You pull up your $worn.upper.name and $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<<else>>
		You pull up your $worn.upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<</if>>
<<else>>
	<<if _underOutfit>>
		You pull down your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<<elseif !$worn.under_upper.type.includes("naked")>>
		You pull up your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
	<<else>>
	<span class="lewd">You bare your <<breasts>>.</span>
	<</if>>
<</if>>

<</widget>>

<<widget "pulldownall">>
<<outfitChecks>>
<<if $worn.lower.skirt is 1>>
	<<if $worn.under_lower.skirt is 1>>
		You lift the hem of your $worn.lower.name and $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif _underOutfit>>
		You lift the hem of your $worn.lower.name and pull aside your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		You lift the hem of your $worn.lower.name and pull down your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<else>>
		You lift the hem of your $worn.lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<</if>>
<<elseif _middleOutfit>>
	<<if $worn.under_lower.skirt is 1>>
		You pull aside your $worn.lower.name and lift the hem of your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif _underOutfit>>
		You pull aside your $worn.lower.name and $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		You pull aside your $worn.lower.name and pull down your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<else>>
		You pull aside your $worn.lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<</if>>
<<elseif !$worn.lower.type.includes("naked")>>
	<<if $worn.under_lower.skirt is 1>>
		You tug down your $worn.lower.name and lift the hem of your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif _middleOutfit>>
		You tug down your $worn.lower.name and pull aside your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		You tug down your $worn.lower.name and $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<else>>
		You tug down your $worn.lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<</if>>
<<else>>
	<<if $worn.under_lower.skirt is 1>>
		You lift the hem of your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif _underOutfit>>
		You pull aside your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		You tug down your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
	<<else>>
		<span class="lewd">You bare your <<genitals>>.</span>
	<</if>>
<</if>>
<</widget>>

<<widget "pullup">>
<<outfitChecks>>
<<if _middleOutfit>>
	pull down
<<elseif !$worn.upper.type.includes("naked")>>
	pull up
<<else>>
	bare
<</if>>
<</widget>>

<<widget "pulldown">>
<<outfitChecks>>
<<if $worn.lower.skirt is 1>>
	lift up
<<elseif _middleOutfit is false>>
	pull down
<<else>>
	bare
<</if>>
<</widget>>

<<widget "pullsup">>
<<outfitChecks>>
<<if _middleOutfit>>
	pulls down
<<elseif !$worn.upper.type.includes("naked")>>
	pulls up
<<else>>
	bares
<</if>>
<</widget>>

<<widget "pullsdown">>
<<outfitChecks>>
<<if $worn.lower.skirt is 1>>
	lifts up
<<elseif _middleOutfit is false>>
	pulls down
<<else>>
	bares
<</if>>
<</widget>>

<<widget "overpullup">>
<<outfitChecks>>
<<if _overOutfit>>
	pull down
<<elseif !$worn.over_upper.type.includes("naked")>>
	pull up
<<else>>
	bare
<</if>>
<</widget>>

<<widget "overpulldown">>
<<outfitChecks>>
<<if $worn.over_lower.skirt is 1>>
	lift up
<<elseif _overOutfit is false>>
	pull down
<<else>>
	bare
<</if>>
<</widget>>

<<widget "overpullsup">>
<<outfitChecks>>
<<if _overOutfit>>
	pulls down
<<elseif !$worn.over_upper.type.includes("naked")>>
	pulls up
<<else>>
	bares
<</if>>
<</widget>>

<<widget "overpullsdown">>
<<outfitChecks>>
<<if $worn.over_lower.skirt is 1>>
	lifts up
<<elseif _overOutfit is false>>
	pulls down
<<else>>
	bares
<</if>>
<</widget>>

<<widget "glans">><<silently>>
<<if $penisuse is 0>>
	<<set _text_output to "glans">>
<<else>>
	<<set _text_output to "shaft">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "testicles">><<silently>>
<<set _text_output to "testes">>
<</silently>><<print _text_output>><</widget>>

<<widget "swimmingdifficultytext0">>

 | <span class="green">These waters look safe</span>

<</widget>>

<<widget "nexttext">>
<</widget>>

<<widget "monk">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "monk" : "nun")>>
<</silently>><<print _text_output>><</widget>>

<<widget "monks">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "monks" : "nuns")>>
<</silently>><<print _text_output>><</widget>>

<<widget "monks_and_nuns">><<silently>>
<<if $malechance is 100>>
	<<set _text_output to "monks">>
<<elseif $malechance is 0>>
	<<set _text_output to "nuns">>
<<else>>
	<<set _text_output to "monks and nuns">>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "monkapo">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "monk's" : "nun's")>>
<</silently>><<print _text_output>><</widget>>

<<widget "priest">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "priest" : "priestess")>>
<</silently>><<print _text_output>><</widget>>

<<widget "priests">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "priests" : "priestesses")>>
<</silently>><<print _text_output>><</widget>>

<<widget "priestapo">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "priest's" : "priestess'")>>
<</silently>><<print _text_output>><</widget>>

<<widget "vaginalvirginitywarning">>
	<<if $player.virginity.vaginal is true>>
		<span class="red">This action will deflower you.</span>
	<</if>>
<</widget>>

<<widget "penilevirginitywarning">>
	<<if $player.virginity.penile is true>>
		<span class="red">This action will deflower you.</span>
	<</if>>
<</widget>>

<<widget "analvirginitywarning">>
	<<if $player.virginity.anal is true>>
		<span class="red">This action will take your anal virginity.</span>
	<</if>>
<</widget>>

<<widget "oralvirginitywarning">>
	<<if $player.virginity.oral is true>>
		<span class="red">This action will take your oral virginity.</span>
	<</if>>
<</widget>>

<<widget "handholdingvirginitywarning">>
	<<if $player.virginity.handholding is true>>
		<span class="red">This action will take your handholding virginity.</span>
	<</if>>
<</widget>>

<<widget "kissvirginitywarning">>
	<<if $player.virginity.kiss is true>>
		<span class="red">This action will take your first kiss.</span>
	<</if>>
<</widget>>

/* Does not currently support named NPCs having their virginity taken by something other than the player. 
 * Argument 0 is the npc, argument 1 is their virginity.
*/
<<widget "NPCvirginitywarning">>
<<if $NPCNameList.indexOf($args[0]) >= 0 and $NPCName[$NPCNameList.indexOf($args[0])].virginity[$args[1]] is true>>
	<<if $combatControls.includes("ists")>>
		<br>
	<</if>>
	<<switch $args[1]>>
		<<case "vaginal" "penile">>
			<span class="red"> This action will deflower <<him>>.</span>
		<<case "anal">>
			<span class="red"> This action will take <<his>> anal virginity.</span>
		<<case "oral">>
			<span class="red"> This action will take <<his>> oral virginity.</span>
		<<case "kiss">>
			<span class="red"> This action will take <<his>> first kiss.</span>
		<<case "handholding">>
			<span class="red"> This action will take <<his>> handholding virginity.</span>
		<<default>>
	<</switch>>
<</if>>
<</widget>>

/*noeinan mod START*/
/*Added Fox Transformation to widgets*/
/*Edited widgets for consistency*/
/*added sheep and bee tf*/

<<widget "wolfgirl">>

<<if $hallucinations gte 2 or $bestialitydisable is "t">>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Wolfboy</span>
	<<else>>
 | <span class="blue">Wolfgirl</span>
	<</if>>
<<else>>
 | <span class="gold">Wolf</span>
<</if>>
<</widget>>

<<widget "cat">>

<<if $hallucinations gte 2 or $bestialitydisable is "t">>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Catboy</span>
	<<else>>
 | <span class="blue">Catgirl</span>
	<</if>>
<<else>>
 | <span class="gold">Cat</span>
<</if>>
<</widget>>

<<widget "cow">>

<<if $hallucinations gte 2 or $bestialitydisable is "t">>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Bullboy</span>
	<<else>>
 | <span class="blue">Cowgirl</span>
	<</if>>
<<else>>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Bull</span>
	<<else>>
 | <span class="blue">Cow</span>
	<</if>>
<</if>>
<</widget>>

<<widget "harpy">>
<<if $hallucinations gte 2 or $bestialitydisable is "t">>
 | <span class="gold">Harpy</span>
<<else>>
 | <span class="gold">Bird</span>
<</if>>
<</widget>>

<<widget "foxgirl">>
<<if $hallucinations gte 2 or $bestialitydisable is "t">>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Foxboy</span>
	<<else>>
 | <span class="blue">Foxgirl</span>
	<</if>>
<<else>>
 | <span class="gold">Fox</span>
<</if>>
<</widget>>

<<widget "sheep">>
<<if $hallucinations gte 2 or $bestialitydisable is "t">>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Ramboy</span>
	<<else>>
 | <span class="blue">Sheepgirl</span>
	<</if>>
<<else>>
 | <span class="gold">Sheep</span>
<</if>>
<</widget>>

<<widget "bee">>
<<if $hallucinations gte 2 or $bestialitydisable is "t">>
	<<if $player.gender_appearance is "m">>
 | 	<span class="blue">Beeboy</span>
	<<else>>
 | <span class="blue">Beegirl</span>
	<</if>>
<<else>>
 | <span class="gold">Bee</span>
<</if>>
<</widget>>
/*noeinan mod END*/

<<widget "angel">>
 | <span class="gold">Angel</span>
<</widget>>

<<widget "fallenangel">>
 | <span class="black">Fallen Angel</span>
<</widget>>

<<widget "demon">>
 | <span class="red">Demon</span>
<</widget>>

<<widget "laughs">>
<<set $rng to random(1, 100)>>
<<if $npcadult isnot 1>>
	<<if $rng gte 51>>
		giggles
	<<else>>
		laughs
	<</if>>
<<elseif $pronoun is "f">>
	<<if $rng gte 67>>
		giggles
	<<elseif $rng gte 33>>
		chuckles
	<<else>>
		laughs
	<</if>>
<<else>>
	<<if $rng gte 51>>
		chuckles
	<<else>>
		laughs
	<</if>>
<</if>>

<</widget>>

<<widget "cursedtext">>
<<if ($args[0] or $args[1]) is "collar">>
	<span class="blue">Perhaps the police can help.</span>
<<elseif ($args[0] or $args[1]) is "chastity belt">>
	<span class="blue">Perhaps the temple can help.</span>
<</if>>
<</widget>>

<<widget "randomteacher">>
<<if $rng gte 81 and $NPCName[$NPCNameList.indexOf("Sirris")].init is 1>>
Sirris
<<elseif $rng gte 61 and $NPCName[$NPCNameList.indexOf("River")].init is 1>>
River
<<elseif $rng gte 41 and $NPCName[$NPCNameList.indexOf("Doren")].init is 1>>
Doren
<<elseif $rng gte 21 and $NPCName[$NPCNameList.indexOf("Winter")].init is 1>>
Winter
<<elseif $NPCName[$NPCNameList.indexOf("Mason")].init is 1>>
Mason
<<else>>
a teacher
<</if>>
<</widget>>

<<widget "skincolourtext">>
	<<switch $skinColor.natural>>
		<<case "light" "ylight">>
			light
		<<case "medium" "ymedium">>
			medium
		<<case "dark" "ydark">>
			dark
		<<case "gyaru" "ygyaru">>
			<<set _textOverride to true>>
	<</switch>>
	<<if _textOverride is true>>
		<<if $skinColor.tanValues[0] gte 66>>
			dark
		<<elseif $skinColor.tanValues[0] gte 33>>
			medium
		<<else>>
			light
		<</if>>
		skin colour.
	<<elseif $skinColor.tanValues[0] gte 80>> skin colour with a dark tan.
	<<elseif $skinColor.tanValues[0] gte 60>> skin colour with a medium tan.
	<<elseif $skinColor.tanValues[0] gte 30>> skin colour with a tan.
	<<elseif $skinColor.tanValues[0] gte 10>> skin colour with a light tan.
	<<else>> skin colour.
	<</if>>
<</widget>>

<<widget "gtanned">> |
<span class="green">+ Tan</span>
<</widget>>

<<widget "ggtanned">> |
<span class="green">+ + Tan</span>
<</widget>>

<<widget "gggtanned">> |
<span class="green">+ + + Tan</span>
<</widget>>

<<widget "beasttype">><<silently>>
<<if typeof $args[0] is "number">>
	<<set _na to $args[0]>>
<<else>>
	<<set _na to 0>>
<</if>>
	<<set _text_output to $NPCList[_na].type>>
<</silently>><<print _text_output>><</widget>>

<<widget "beasttypes">> <<beasttype>>'s<</widget>>

<<widget "beastsplural">><<silently>>
<<if $NPCList[0].type is "wolf" and $monster isnot 1>>
	<<set _text_output to "wolves">>
<<elseif $NPCList[0].type is "fox" and $monster isnot 1>>
	<<set _text_output to "foxes">>
<<elseif $monster isnot 1 or $NPCList[0].type is "centaur">>
	<<set _text_output to "<<beasttype>>s">>
<<else>>
	<<for _i = 0; _i < $NPCList.length; _i++>>
		<<if $NPCList[_i].pronoun is "m">>
			<<set _malespresent to true>>
		<</if>>
		<<if $NPCList[_i].pronoun is "f">>
			<<set _femalespresent to true>>
		<</if>>
	<</for>>
	<<if (_malespresent isnot true or _femalespresent isnot true)>>
		<<set _text_output to "<<beasttype>>s">>
	<<elseif $NPCList[2].pronoun is 0>>
		<<set _text_output to "$NPCList[0].type and $NPCList[1].type">>
	<<else>>
	/*noeinan mod START*/
	/*Added fox, cattle, sheep, and deer to text output for groups of beastfolk*/
		<<switch $NPCList[0].type>>
			<<case "lizardgirl" "lizardboy">><<set _text_output to "lizardgirls and lizardboys">>
			<<case "wolfgirl" "wolfboy">><<set _text_output to "wolfgirls and wolfboys">>
			<<case "doggirl" "dogboy">><<set _text_output to "doggirls and dogboys">>
			<<case "dolphingirl" "dolphinboy">><<set _text_output to "dolphingirls and dolphinboys">>
			<<case "beargirl" "bearboy">><<set _text_output to "beargirls and bearboys">>
			<<case "catgirl" "catboy">><<set _text_output to "catgirls and catboys">>
			<<case "piggirl" "pigboy">><<set _text_output to "piggirls and pigboys">>
			<<case "boargirl" "boarboy">><<set _text_output to "boargirls and boarboys">>
			<<case "foxgirl" "foxboy">><<set _text_output to "foxgirls and foxboys">>
			<<case "cowgirl" "bullboy">><<set _text_output to "cowgirls and bullboys">>
			<<case "sheepgirl" "ramboy">><<set _text_output to "sheepgirls and ramboys">>
			<<case "deergirl" "stagboy">><<set _text_output to "deergirls and stagboys">>
			<<case "beegirl" "beeboy">><<set _text_output to "beegirls and beeboys">>
			<<default>><<set _text_output to "creatures">>
		<</switch>>
	/*noeinan mod END*/
	<</if>>
<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "slut">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m" ? "pervert" : "slut")>>
<</silently>><<print _text_output>><</widget>>

<<widget "tending_text">>
<<if $tending gte 800>>
	<span class="green">You're great at this.</span>
<<elseif $tending gte 600>>
	<span class="teal">You're good at this.</span>
<<elseif $tending gte 400>>
	<span class="lblue">You're okay at this.</span>
<<elseif $tending gte 200>>
	<span class="blue">You're getting the hang of this.</span>
<<else>>
	<span class="purple">You muddle through.</span>
<</if>>
<</widget>>

<<widget "wordify_i">>
<<switch $args[0]>>
	<<case 0>>
		<<set _text_output to "first">>
	<<case 1>>
		<<set _text_output to "second">>
	<<case 2>>
		<<set _text_output to "third">>
	<<case 3>>
		<<set _text_output to "fourth">>
	<<case 4>>
		<<set _text_output to "fifth">>
	<<case 5>>
		<<set _text_output to "sixth">>
	<<case 6>>
		<<set _text_output to "seventh">>
	<<case 7>>
		<<set _text_output to "eighth">>
	<<case 8>>
		<<set _text_output to "ninth">>
	<<case 9>>
		<<set _text_output to "tenth">>
<</switch>>
<<if _text_output is undefined>>
	<<set _text_output to "eleventh">>
<</if>>
<<if $args[1]>>
	<<print _text_output.toLocaleUpperFirst()>>
<<else>>
	<<print _text_output>>
<</if>>
<</widget>>

<<widget "threaten">>
<<set $rng to random(1, 100)>>
<<if $NPCList[_n].pronoun is "m">>
	<<if $NPCList[_n].penis isnot "none">>
		<<if $player.gender_appearance is "m">>
			<<if $rng gte 81>>
				"I'm gonna fuck your ass until you squeal."
			<<elseif $rng gte 61>>
				"I'm gonna make you my bitch."
			<<elseif $rng gte 41>>
				"You'll be worshipping my cock when I'm done with you."
			<<elseif $rng gte 21>>
				"I'm gonna make you my new cock sleeve."
			<<else>>
				"I'm gonna fill that ass of yours."
			<</if>>
		<<else>>
			<<if $rng gte 81>>
				"I'm gonna fuck your pussy until you squeal."
			<<elseif $rng gte 61>>
				"I'm gonna make you my bitch."
			<<elseif $rng gte 41>>
				"You'll be worshipping my cock when I'm done with you."
			<<elseif $rng gte 21>>
				"I'm gonna fuck every one of your holes."
			<<else>>
				"I'm gonna make you my new cock sleeve."
			<</if>>
		<</if>>
	<<else>>
		<<if $player.gender_appearance is "m">>
			<<if $rng gte 81>>
				"I'm gonna ride you until you pass out."
			<<elseif $rng gte 61>>
				"I'm gonna bully your cock into submission."
			<<elseif $rng gte 41>>
				"I'm gonna drain you empty."
			<<elseif $rng gte 21>>
				"Your cock will be sore when I'm through with you."
			<<else>>
				"You're gonna service my pussy in and every way I require."
			<</if>>
		<<else>>
			<<if $rng gte 81>>
				"I'm gonna fuck you until you squeal."
			<<elseif $rng gte 61>>
				"I'm gonna bully your pussy into submission."
			<<elseif $rng gte 41>>
				"You're gonna service my pussy in any and every way I require."
			<<elseif $rng gte 21>>
				"You're gonna get me off any way you can."
			<<else>>
				"I'm gonna dominate every part of you."
			<</if>>
		<</if>>
	<</if>>
<<else>>
	<<if $NPCList[_n].penis isnot "none">>
		<<if $player.gender_appearance is "m">>
			<<if $rng gte 81>>
				"I'm gonna fuck your ass until you squeal."
			<<elseif $rng gte 61>>
				"I'm gonna make you my bitch."
			<<elseif $rng gte 41>>
				"You'll be worshipping my cock when I'm done with you."
			<<elseif $rng gte 21>>
				"I'm gonna make you my new cock sleeve."
			<<else>>
				"I'm gonna fill that ass of yours."
			<</if>>
		<<else>>
			<<if $rng gte 81>>
				"I'm gonna fuck your pussy until you squeal."
			<<elseif $rng gte 61>>
				"I'm gonna make you my bitch."
			<<elseif $rng gte 41>>
				"You'll be worshipping my cock when I'm done with you."
			<<elseif $rng gte 21>>
				"I'm gonna fuck every one of your holes."
			<<else>>
				"I'm gonna make you my new cock sleeve."
			<</if>>
		<</if>>
	<<else>>
		<<if $player.gender_appearance is "m">>
			<<if $rng gte 81>>
				"I'm gonna ride you until you pass out."
			<<elseif $rng gte 61>>
				"I'm gonna bully your cock into submission."
			<<elseif $rng gte 41>>
				"I'm gonna drain you empty."
			<<elseif $rng gte 21>>
				"Your cock will be sore when I'm through with you."
			<<else>>
				"I need your cum. All of it."
			<</if>>
		<<else>>
			<<if $rng gte 81>>
				"I'm gonna fuck you until you squeal."
			<<elseif $rng gte 61>>
				"I'm gonna bully your pussy into submission."
			<<elseif $rng gte 41>>
				"You're gonna service my pussy in any and every way I require."
			<<elseif $rng gte 21>>
				"You're gonna get me off any way you can."
			<<else>>
				"I'm gonna dominate every part of you."
			<</if>>
		<</if>>
	<</if>>
<</if>>
<</widget>>

<<widget "voice">>
<<switch $args[0]>>
	<<case "plead">>
		<<if $pain lte 60>>
			<<if $rng lte 33>>
				<<set _text_output to "plead">>
			<<elseif $rng lte 66>>
				<<set _text_output to "beg">>
			<<elseif $wolfgirl gte 4>>
				<<set _text_output to "whimper">>
			<<elseif $cat gte 4>>
				<<set _text_output to "mewl">>
			<<elseif $cow gte 4>>
				<<set _text_output to "moo">>
			<<elseif $harpy gte 4>>
				<<set _text_output to "chirp">>
			
			/*noeinan mod START*/
			/*Added new Fox Transformation*/
			/*added new sheep transformation*/

			<<elseif $foxgirl gte 4>>
				<<set _text_output to "yip">>
			<<elseif $sheep gte 4>>
				<<set _text_output to "bleat">>
			<<elseif $bee gte 4>>
				<<set _text_output to "buzz">>

			/*noeinan mod END*/

			<<else>>
				<<set _text_output to "plead">>
			<</if>>
		<<else>>
			<<if $rng lte 50>>
				<<set _text_output to "cry and plead">>
			<<else>>
				<<set _text_output to "weep and plead">>
			<</if>>
		<</if>>
	<<case "moan">>
		<<if $rng lte 25>>
			<<if $arousal lte ($arousalmax / 5) * 3>>
				<<set _text_output to "moan">>
			<<else>>
				<<set _text_output to "gasp and moan">>
			<</if>>
		<<elseif $rng lte 50>>
			<<set _text_output to "murmur">>
		<<elseif $rng lte 75>>
			<<if $arousal lte ($arousalmax / 5) * 3>>
				<<set _text_output to "giggle">>
			<<else>>
				<<set _text_output to "gasp and giggle">>
			<</if>>
		<<elseif $wolfgirl gte 4>>
			<<set _text_output to "pant">>
		<<elseif $cat gte 4>>
			<<set _text_output to "purr">>
		<<elseif $cow gte 4>>
			<<set _text_output to "moo">>
		<<elseif $harpy gte 4>>
			<<set _text_output to "chirp">>
		
		/*noeinan mod START*/
		/*Added Fox Transformation here*/
		/*added new sheep transformation*/
			
		<<elseif $foxgirl gte 4>>
			<<set _text_output to "clicket">>
		<<elseif $sheep gte 4>>
			<<set _text_output to "bleat">>
		<<elseif $bee gte 4>>
				<<set _text_output to "buzz">>

		/*noeinan mod END*/

		<<else>>
			<<set _text_output to "moan">>
		<</if>>
	<<case "demand">>
		<<if $arousal lte ($arousalmax / 5) * 3>>
			<<if $rng lte 33>>
				<<set _text_output to "speak">>
			<<elseif $rng lte 66>>
				<<set _text_output to "yell">>
			<<elseif $wolfgirl gte 4>>
				<<set _text_output to "bark">>
			<<elseif $cat gte 4>>
				<<set _text_output to "hiss">>
			<<elseif $cow gte 4>>
				<<set _text_output to "exhale through your nostrils threateningly">>
			<<elseif $harpy gte 4>>
				<<set _text_output to "screech">>
			
			/*noeinan mod START*/
			/*Added Fox Transformation here*/
			/*added new sheep transformation*/
			
			<<elseif $foxgirl gte 4>>
				<<set _text_output to "gekker">>
			<<elseif $sheep gte 4>>
				<<set _text_output to "bleat threateningly">>
			<<elseif $bee gte 4>>
				<<set _text_output to "buzz threateningly">>

			/*noeinan mod END*/

			<<else>>
				<<set _text_output to "spit">>
			<</if>>
		<<elseif $rng lte 50>>
			<<set _text_output to "gasp">>
		<<else>>
			<<set _text_output to "growl">>
		<</if>>
	<<default>>
		<<set _text_output to "try to speak, but hiccup instead. This is a bug, Please report to Vrelnir" + ($args[0] isnot undefined ? $args[0] : "undefined")>>
<</switch>>
<<print _text_output>>
<</widget>>

<<widget "vagina_lube_amount">>

<<if _vagina_lube_amount gte 12>>
<span class="red">copious</span> amounts
<<elseif _vagina_lube_amount gte 8>>
<span class="pink">ample</span> amounts
<<elseif _vagina_lube_amount gte 5>>
<span class="pink">large amount</span>
<<elseif _vagina_lube_amount gte 3>>
<span class="purple">fair</span> amount
<<elseif _vagina_lube_amount gte 2>>
<span class="purple">meager</span> amount
<<else>>
<span class="purple">paltry</span> amount
<</if>>
<</widget>>

<<widget "anus_lube_amount">>

<<if _anus_lube_amount gte 12>>
<span class="red">copious</span> amounts
<<elseif _anus_lube_amount gte 8>>
<span class="pink">ample</span> amounts
<<elseif _anus_lube_amount gte 5>>
<span class="pink">large amount</span>
<<elseif _anus_lube_amount gte 3>>
<span class="purple">fair</span> amount
<<elseif _anus_lube_amount gte 2>>
<span class="purple">meager</span> amount
<<else>>
<span class="purple">paltry</span> amount
<</if>>
<</widget>>

<<widget "penis_lube_amount">>

<<if _penis_lube_amount gte 10>>
<span class="red">copious</span> amounts
<<elseif _penis_lube_amount gte 6>>
<span class="pink">ample</span> amounts
<<elseif _penis_lube_amount gte 4>>
<span class="pink">large amount</span>
<<elseif _penis_lube_amount gte 3>>
<span class="purple">fair</span> amount
<<elseif _penis_lube_amount gte 2>>
<span class="purple">meager</span> amount
<<else>>
<span class="purple">paltry</span> amount
<</if>>
<</widget>>

<<widget "vagina_lube_text">>
<<set _vagina_lube_amount to setup.bodyliquid.combined("vagina") + setup.bodyliquid.combined("vaginaoutside")>>
<<if _vagina_lube_amount lte 0>>
	Despite how dry you are,
<<else>>
	Aided by the <<vagina_lube_amount>> of lubricating fluid,
<</if>>
<</widget>>

<<widget "anus_lube_text">>
<<set _anus_lube_amount to setup.bodyliquid.combined("anus") + setup.bodyliquid.combined("bottom")>>
<<if _anus_lube_amount lte 0>>
	Despite the lack of lubrication,
<<else>>
	Aided by the <<anus_lube_amount>> of lubricating fluid,
<</if>>
<</widget>>

<<widget "penis_lube_text">>
<<set _penis_lube_amount to setup.bodyliquid.combined("penis")>>
<<if _penis_lube_amount lte 0>>
	Despite the lack of lubrication,
<<else>>
	Aided by the <<penis_lube_amount>> of lubricating fluid,
<</if>>
<</widget>>

<<widget "small_text">> |
<<if $physiquesize lte 6000>>
	<span class="teal">Tiny Body</span>
<<elseif $physiquesize lte 10000>>
	<span class="teal">Small Body</span>
<<elseif $physiquesize lte 12000>>
	<span class="teal">Not too big</span>
<<else>>
	<span class="teal">Not too big</span>
<</if>>
<</widget>>

<<widget "large_text">> |
<<if $physiquesize gte 16000>>
	<span class="teal">Large Body</span>
<<elseif $physiquesize gte 12000>>
	<span class="teal">Normal Body</span>
<<elseif $physiquesize gte 10000>>
	<span class="teal">Not too small</span>
<<else>>
	<span class="teal">Not too small</span>
<</if>>
<</widget>>

<<widget "monster_passage">>
<<if _monster_passage is undefined>>
	<<if ($monsterchance gte 1 and $hallucinations gte 1) or ($monsterchance gte 1 and $monsterhallucinations is "f") or ($bestialitydisable is "t")>>
		<<if $malechance gte 100>>
			<<set _monster_passage to "m">>
		<<elseif $malechance lte 0>>
			<<set _monster_passage to "f">>
		<<else>>
			<<set _monster_passage to "b">>
		<</if>>
	<<else>>
		<<set _monster_passage to "n">>
	<</if>>
<</if>>
<</widget>>

<<widget "farm_text_many">>
<<if $args[0] is "horse">>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<set _text_output to "centaurs">>
	<<else>>
		<<set _text_output to "horses">>
	<</if>>
<<elseif $args[0] is "pig">>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<if $farm_work[$args[0]].gender_plural is "m">>
			<<set _text_output to "pigboys">>
		<<elseif $farm_work[$args[0]].gender_plural is "f">>
			<<set _text_output to "piggirls">>
		<<else>>
			<<set _text_output to "piggirls and pigboys">>
		<</if>>
	<<else>>
		<<set _text_output to "pigs">>
	<</if>>
<<elseif $args[0] is "dog">>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<if $farm_work[$args[0]].gender_plural is "m">>
			<<set _text_output to "dogboys">>
		<<elseif $farm_work[$args[0]].gender_plural is "f">>
			<<set _text_output to "doggirls">>
		<<else>>
			<<set _text_output to "doggirls and dogboys">>
		<</if>>
	<<else>>
		<<set _text_output to "dogs">>
	<</if>>
<<else>>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<if $farm_work[$args[0]].gender_plural is "m">>
			<<set _text_output to "bullboys">>
		<<elseif $farm_work[$args[0]].gender_plural is "f">>
			<<set _text_output to "cowgirls">>
		<<else>>
			<<set _text_output to "cowgirls and bullboys">>
		<</if>>
	<<else>>
		<<set _text_output to "cattle">>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "farm_text">>
<<if $args[0] is "horse">>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<set _text_output to "centaur">>
	<<else>>
		<<set _text_output to "horse">>
	<</if>>
<<elseif $args[0] is "pig">>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<if $farm_work[$args[0]].gender is "m">>
			<<set _text_output to "pigboy">>
		<<else>>
			<<set _text_output to "piggirl">>
		<</if>>
	<<else>>
		<<set _text_output to "pig">>
	<</if>>
<<elseif $args[0] is "dog">>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<if $farm_work[$args[0]].gender is "m">>
			<<set _text_output to "dogboy">>
		<<else>>
			<<set _text_output to "doggirl">>
		<</if>>
	<<else>>
		<<set _text_output to "dog">>
	<</if>>
<<else>>
	<<if $farm_work[$args[0]].monster_roll is true and (($hallucinations gte 1 or $monsterhallucinations is "f") or $bestialitydisable is "t")>>
		<<if $farm_work[$args[0]].gender is "m">>
			<<set _text_output to "bullboy">>
		<<else>>
			<<set _text_output to "cowgirl">>
		<</if>>
	<<else>>
		<<if $farm_work[$args[0]].gender is "m">>
			<<set _text_output to "bull">>
		<<else>>
			<<set _text_output to "cow">>
		<</if>>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "farm_he">>
<<if $farm_work[$args[0]].monster>>
	<<if $farm_work[$args[0]].gender is "m">>
		<<set _text_output to "he">>
	<<else>>
		<<set _text_output to "she">>
	<</if>>
<<else>>
	<<set _text_output to "it">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "farm_He">>
<<if $farm_work[$args[0]].monster>>
	<<if $farm_work[$args[0]].gender is "m">>
		<<set _text_output to "He">>
	<<else>>
		<<set _text_output to "She">>
	<</if>>
<<else>>
	<<set _text_output to "It">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "farm_him">>
<<if $farm_work[$args[0]].monster>>
	<<if $farm_work[$args[0]].gender is "m">>
		<<set _text_output to "him">>
	<<else>>
		<<set _text_output to "her">>
	<</if>>
<<else>>
	<<set _text_output to "it">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "farm_his">>
<<if $farm_work[$args[0]].monster>>
	<<if $farm_work[$args[0]].gender is "m">>
		<<set _text_output to "his">>
	<<else>>
		<<set _text_output to "her">>
	<</if>>
<<else>>
	<<set _text_output to "its">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "farm_His">>
<<if $farm_work[$args[0]].monster>>
	<<if $farm_work[$args[0]].gender is "m">>
		<<set _text_output to "His">>
	<<else>>
		<<set _text_output to "Her">>
	<</if>>
<<else>>
	<<set _text_output to "Its">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "master">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "master" : "mistress")>>
<</silently>>_text_output<</widget>>

<<widget "Master">><<silently>>
<<master>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>>_text_output<</widget>>

<<widget "daughter">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "son" : "daughter")>>
<</silently>>_text_output<</widget>>


<!-- Proper usage example: <<nnpc_he "Robin">> would return "he" or "she" based on Robin's pronoun. -->
<!-- Useful for needing to call a named NPC's pronoun in a scene that doesn't directly include them, or for more efficient usage in scenes with multiple named NPCs. -->

<<widget "nnpc_he">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "he" : "she")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_He">><<silently>>
<<nnpc_he $args[0]>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_him">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "him" : "her")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Him">><<silently>>
<<nnpc_him $args[0]>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_his">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "his" : "her")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_His">><<silently>>
<<nnpc_his $args[0]>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_hers">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "his" : "hers")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_hes">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "he's" : "she's")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Hes">><<silently>>
<<nnpc_hes $args[0]>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_himself">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "himself" : "herself")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_wife">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "husband" : "wife")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_lass">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "lad" : "lass")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_gender">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "man" : "woman")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_gendery">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "boy" : "girl")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_genitals">><<silently>>
<<set _npcGender to $NPCName[$NPCNameList.indexOf($args[0])].gender>>
<<set _text_output to (_npcGender is "m" ? "penis" : "vagina")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_girlfriend">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "boyfriend" : "girlfriend")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_brother">><<silently>>
<<set _npcPronoun to $NPCName[$NPCNameList.indexOf($args[0])].pronoun>>
<<set _text_output to (_npcPronoun is "m" ? "brother" : "sister")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Brother">><<silently>>
<<nnpc_brother $args[0]>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_title">><<silently>>
<<set _text_output to $NPCName[$NPCNameList.indexOf($args[0])].title>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Title">><<silently>>
<<nnpc_title $args[0]>><<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>><<print _text_output>><</widget>>

<<widget "daylight">>
<<if $daystate is "day">>
	<<set _text_output to "daylight">>
<<elseif $daystate is "dawn">>
	<<set _text_output to "dawn's light">>
<<elseif $daystate is "dusk">>
	<<set _text_output to "fading light">>
<<else>>
	<<if $hour is 9 or $season is "summer">>
		<<set _text_output to "twilight">>
	<<else>>
		<<set _text_output to "night breeze">>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "printTo">>
to
<</widget>>

<<widget "printAnd">>
and
<</widget>>

<<widget "printChastity">>
$worn.genitals.name
<</widget>>

<<widget "timeAfterXHours">><<silently>>
<<if $args[0]>>
	<<if $timestyle is "military">>
		<<set $_hour to ($hour + $args[0]) % 24>>
		<<print $_hour>>:<<print $minute + ($minute lt 10? "0":"")>>
		<<set _text_output to ($_hour lt 10 ? "0":"") + $_hour + ":" + ($minute lt 10 ? "0":"") + $minute>>
	<<else>>
		<<set $_hour to ($hour + $args[0]) % 24>>
		<<if $_hour gte 13>>
			<<set _text_output to ($_hour - 12) + ":" + ($minute lt 10 ? "0":"") + $minute + "pm">>
		<<else>>
			<<set _text_output to ($_hour is 0 ? "12" : $_hour) + ":" + ($minute lt 10 ? "0":"") + $minute + ($_hour is 12? "pm": "am")>>
		<</if>>
	<</if>>
<</if>>
<</silently>><<print _text_output>>
<</widget>>

<<widget "beast_jaws_text">>
<<if $NPCList[_n].type is "hawk">>
	<<set _text_output to "beak">>
<<else>>
	<<set _text_output to "jaws">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "beast_Jaws_text">>
<<if $NPCList[_n].type is "hawk">>
	<<set _text_output to "Beak">>
<<else>>
	<<set _text_output to "Jaws">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "beast_teeth_text">>
<<if $NPCList[_n].type is "hawk">>
	<<set _text_output to "beak">>
<<else>>
	<<set _text_output to "teeth">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "beast_claws_text">>
<<if $NPCList[_n].type is "hawk">>
	<<set _text_output to "talons">>
<<else>>
	<<set _text_output to "claws">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "beast_growls_text">>
<<if $NPCList[_n].type is "hawk">>
	<<set _text_output to "squawks">>
<<else>>
	<<set _text_output to "growls">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "beast_growling_text">>
<<if $NPCList[_n].type is "hawk">>
	<<set _text_output to "squawking">>
<<else>>
	<<set _text_output to "growling">>
<</if>>
<<print _text_output>>
<</widget>>

/*noeinan mod START*/
/*I believe this was added by Frost who just forgot the comment */

<<widget "asounds">>
<<silently>>
<<if $wolfgirl == 6>>
	<<set _text_output to "barks">>
<<elseif $cat == 6>>
	<<set _text_output to "meows">>
<<elseif $cow == 6>>
	<<set _text_output to "moos">>
<<elseif $harpy == 6>>
	<<set _text_output to "chirps">>
<<elseif $foxgirl == 6>>
	<<set _text_output to "chatters">>
<<elseif $sheep == 6>>
	<<set _text_output to "bleats">>
<<elseif $sheep == 6>>
	<<set _text_output to "buzzes">>
<<else>>
	<<set _text_output to "mumbles">><</if>>
<</silently>>_text_output
<</widget>>

<<widget "asound">>
<<silently>>
<<if $wolfgirl == 6>>
	<<set _text_output to "bark">>
<<elseif $cat == 6>>
	<<set _text_output to "meow">>
<<elseif $cow == 6>>
	<<set _text_output to "moo">>
<<elseif $harpy == 6>>
	<<set _text_output to "chirp">>
<<elseif $foxgirl == 6>>
	<<set _text_output to "chatter">>
<<elseif $sheep == 6>>
	<<set _text_output to "bleat">>
<<elseif $sheep == 6>>
	<<set _text_output to "buzz">>
<<else>>
	<<set _text_output to "mumble">><</if>>
<</silently>>_text_output
<</widget>>

/*noeinan mod END */
<<widget "dress">>
<<if $worn.upper.set is $worn.lower.set>>
	<<if $worn.lower.skirt is 1>>
		<<set _text_output to "dress">>
	<<else>>
		<<set _text_output to "clothes">>
	<</if>>
<<else>>
	<<set _text_output to "top">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "skirt">>
<<if $worn.upper.set is $worn.lower.set>>
	<<if $worn.lower.skirt is 1>>
		<<set _text_output to "dress">>
	<<else>>
		<<set _text_output to "clothes">>
	<</if>>
<<else>>
	<<if $worn.lower.skirt is 1>>
		<<set _text_output to "skirt">>
	<<else>>
		<<set _text_output to "bottoms">>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "panties">>
<<if $worn.under_upper.set is $worn.under_lower.set>>
	<<set _text_output to "underclothes">>
<<else>>
	<<if $worn.under_lower.skirt is 1>>
		<<set _text_output to "skirt">>
	<<else>>
		<<if $worn.under_lower.gender is "f">>
			<<if random(1, 2) is 2>>
				<<set _text_output to "panties">>
			<<else>>
				<<set _text_output to "knickers">>
			<</if>>
		<<else>>
			<<set _text_output to "undies">>
		<</if>>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "bra">>
<<if $worn.under_upper.set is $worn.under_lower.set>>
	<<set _text_output to "underclothes">>
<<else>>
	<<if $worn.under_upper.gender is "f" and $worn.under_upper.state_base is "midriff">>
		<<set _text_output to "bra">>
	<<else>>
		<<set _text_output to "top">>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>


<<widget "npcPenis">>
<<if !$args[0]>>
	<<set _npcGen to 0>>
<<else>>
	<<set _npcGen to $args[0]>>
<</if>>
<<if $NPCList[_npcGen].chastity.penis is "chastity cage">>
	<<set _text_output to "caged penis">>
<<elseif $NPCList[_npcGen].chastity.penis.includes("chastity")>>
	<<set _text_output to $NPCList[_npcGen].chastity.penis>>
<<else>>
	<<set _text_output to $NPCList[_npcGen].penisdesc>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "npcVagina">>
<<if !$args[0]>>
	<<set _npcGen to 0>>
<<else>>
	<<set _npcGen to $args[0]>>
<</if>>
<<if $NPCList[_npcGen].chastity.vagina.includes("chastity")>>
	<<set _text_output to $NPCList[_npcGen].chastity.vagina>>
<<else>>
	<<set _text_output to "pussy">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "npcAnus">>
<<if !$args[0]>>
	<<set _npcGen to 0>>
<<else>>
	<<set _npcGen to $args[0]>>
<</if>>
<<if $NPCList[_npcGen].chastity.anus.includes("shield")>>
	<<set _text_output to $NPCList[_npcGen].chastity.anus>>
<<else>>
	<<set _text_output to "ass">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "npcHairColour">>
<<if $args[0]>>
	<<switch $NPCName[$NPCNameList.indexOf($args[0])].hairColour>>
		<<case "strawberryblond">>
			<<set _text_output to "strawberry blond">>
		<<case "platinumblond">>
			<<set _text_output to "platinum blond">>
		<<case "lightbrown">>
			<<set _text_output to "light brown">>
		<<default>>
			<<set _text_output to $NPCName[$NPCNameList.indexOf($args[0])].hairColour>>
	<</switch>>
<<else>>
	<<set _text_output to "phantasmal ghost colour because someone forgot to define an NPC for the npcHairColour widget, please inform Vrelnir">>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "gbeauty">> |
<span class="green">+ Beauty</span>
<</widget>>

<<widget "ggbeauty">> |
<span class="green">+ + Beauty</span>
<</widget>>

<<widget "gggbeauty">> |
<span class="green">+ + + Beauty</span>
<</widget>>

<<widget "gseduction">> |
<span class="green">+ Seduction</span>
<</widget>>

<<widget "ggseduction">> |
<span class="green">+ + Seduction</span>
<</widget>>

<<widget "gggseduction">> |
<span class="green">+ + + Seduction</span>
<</widget>>

<<widget "gskulduggery">> |
<span class="green">+ Skulduggery</span>
<</widget>>

<<widget "ggskulduggery">> |
<span class="green">+ + Skulduggery</span>
<</widget>>

<<widget "gggskulduggery">> |
<span class="green">+ + + Skulduggery</span>
<</widget>>

<<widget "ampm">><!-- [hour] [minute] -->
/* displays time in accordance with player-set time format */
	<<if ndef $args[0]>>
	/* when called without arguments, display current time */
		<<set _hour to $hour>>
		<<set _minute to $minute>>
	<<elseif typeof($args[0]) is "string">>
	/* if string, assume format H:mm or hh:mm */
		<<set _numberstring to $args[0].replace(":", ".")>>
		<<set _hour to Math.trunc(_numberstring)>>
		<<set _minute to _numberstring * 100 % 100>>
	<<else>>
	/* assume first numeric argument is hour */
		<<set _hour to $args[0]>>
		<<if ndef $args[1]>>
		/* without a second argument, assume 00 */
			<<set _minute to 0>>
		<<else>>
			<<set _minute to $args[1]>>
		<</if>>
	<</if>>

	<<if $timestyle is "ampm">>
		<<if _hour gte 13>>
			<<set _text_output to (_hour - 12) +":"+ _minute.toString().padStart(2, "0") + " pm">>
		<<else>>
			<<set _text_output to (_hour is 0 ? "12" : _hour) +":"+ _minute.toString().padStart(2, "0") + (_hour is 12 ? " pm" : " am")>>
		<</if>>
	<<else>>
		<<set _text_output to _hour.toString().padStart(2,"0") +":"+ _minute.toString().padStart(2, "0")>>
	<</if>>
	<<print _text_output>>
<</widget>>

<!-- usage
  <<number -69>> -> "negative sixty-nine"
  <<number 69 silent>> -> _text_output = "sixty-nine"
-->
<<widget "number">><<silently>>
	<<set $_x to $args[0]>>
	<<if $_x lte -100 or $_x gte 100 or Math.floor($_x) isnot $_x>>
		<<set _text_output to ""+$_x>>
	<<else>>
		<<if $_x lt 0>>
			<<set _text_output to "negative ">>
			<<set $_x to -$_x>>
		<<else>>
			<<set _text_output to "">>
		<</if>>
		<<if $_x is 0>>
			<<set _text_output to "zero">>
		<<elseif $_x gte 10 and $_x lte 20>>
			<<set _text_output to  ["ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen", "twenty"][$_x-10]>>
		<<else>>
			<<set $_ones to ($_x % 10)>>
			<<set $_tens to ($_x - $_ones)/10>>
			<<set $_tenword to ["", "", "twenty", "thirty", "forty", "fifty", "sixty", "seventy", "eighty", "ninety"][$_tens]>>
			<<set $_oneword to ["", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine"][$_ones]>>
			<<if $_tenword and $_oneword>>
				<<set _text_output to  $_tenword + "-" + $_oneword>>
			<<else>>
				<<set _text_output to  $_tenword + "" + $_oneword>>
			<</if>>
		<</if>>
	<</if>>
<</silently>><<if $args[1] isnot "silent">><<print _text_output>><</if>><</widget>>

<<widget "Number">><<number $args[0] silent>><<print _text_output.toLocaleUpperFirst()>><</widget>>

<<widget "location_text">>
<<switch $location>>
	<<case alley>>
		<<set _text_output to "alley">>
	<<case forest lake>>
		<<set _text_output to "forest">>
	<<case moor>>
		<<set _text_output to "moor">>
	<<default>>
		<<set _text_output to "street">>
<</switch>>
<<print _text_output>>
<</widget>>

<<widget "nude_text">>
<<if $worn.under_upper.exposed gte 1 and $worn.upper.exposed gte 2 and $worn.over_upper.exposed gte 2>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.over_lower.exposed gte 2>>
		<<set _text_output to "naked">>
	<<else>>
		<<set _text_output to "topless">>
	<</if>>
<<else>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.over_lower.exposed gte 2>>
		<<set _text_output to "bottomless">>
	<<else>>
		<<set _text_output to "underwear">>
	<</if>>
<</if>>
<<print _text_output>>
<</widget>>

<<widget "cast_aside_clothes">>
<<if $combatgoal is "strip">>
	<span class="purple"><<He>> bundles the fabric under <<his>> arm.</span>
<<else>>
	<span class="purple"><<He>> casts aside the fabric.</span>
<</if>>
<</widget>>